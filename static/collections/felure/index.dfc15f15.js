(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const h of a)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const h={};return a.integrity&&(h.integrity=a.integrity),a.referrerpolicy&&(h.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?h.credentials="include":a.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(a){if(a.ep)return;a.ep=!0;const h=n(a);fetch(a.href,h)}})();var Bt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nn={exports:{}};(function(e){var t=256,n=6,r=52,a=[],h=typeof Bt>"u"?window:Bt,f=Math.pow(t,n),m=Math.pow(2,r),H=m*2,A=t-1,L=Math.random;e.exports=function(M,E){if(E&&E.global===!0)return E.global=!1,Math.random=e.exports(M,E),E.global=!0,Math.random;var _=E&&E.entropy||!1,Y=[];S(C(_?[M,q(a)]:0 in arguments?M:b(),3),Y);var j=new B(Y);return S(q(j.S),a),function(){for(var U=j.g(n),D=f,X=0;U<m;)U=(U+X)*t,D*=t,X=j.g(1);for(;U>=H;)U/=2,D/=2,X>>>=1;return(U+X)/D}},e.exports.resetGlobal=function(){Math.random=L};function B(M){var E,_=M.length,Y=this,j=0,U=Y.i=Y.j=0,D=Y.S=[];for(_||(M=[_++]);j<t;)D[j]=j++;for(j=0;j<t;j++)D[j]=D[U=A&U+M[j%_]+(E=D[j])],D[U]=E;(Y.g=function(X){for(var oe,he=0,te=Y.i,ae=Y.j,$=Y.S;X--;)oe=$[te=A&te+1],he=he*t+$[A&($[te]=$[ae=A&ae+oe])+($[ae]=oe)];return Y.i=te,Y.j=ae,he})(t)}function C(M,E){var _=[],Y=(typeof M)[0],j;if(E&&Y=="o")for(j in M)try{_.push(C(M[j],E-1))}catch{}return _.length?_:Y=="s"?M:M+"\0"}function S(M,E){for(var _=M+"",Y,j=0;j<_.length;)E[A&j]=A&(Y^=E[A&j]*19)+_.charCodeAt(j++);return q(E)}function b(M){try{return h.crypto.getRandomValues(M=new Uint8Array(t)),q(M)}catch{return[+new Date,h,h.navigator&&h.navigator.plugins,h.screen,q(a)]}}function q(M){return String.fromCharCode.apply(0,M)}S(Math.random(),a)})(nn);var Gt={exports:{}};(function(e,t){(function(){var n=.5*(Math.sqrt(3)-1),r=(3-Math.sqrt(3))/6,a=1/3,h=1/6,f=(Math.sqrt(5)-1)/4,m=(5-Math.sqrt(5))/20;function H(C){var S;typeof C=="function"?S=C:C?S=L(C):S=Math.random,this.p=A(S),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var b=0;b<512;b++)this.perm[b]=this.p[b&255],this.permMod12[b]=this.perm[b]%12}H.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(C,S){var b=this.permMod12,q=this.perm,M=this.grad3,E=0,_=0,Y=0,j=(C+S)*n,U=Math.floor(C+j),D=Math.floor(S+j),X=(U+D)*r,oe=U-X,he=D-X,te=C-oe,ae=S-he,$,ge;te>ae?($=1,ge=0):($=0,ge=1);var le=te-$+r,fe=ae-ge+r,ce=te-1+2*r,ne=ae-1+2*r,u=U&255,y=D&255,k=.5-te*te-ae*ae;if(k>=0){var P=b[u+q[y]]*3;k*=k,E=k*k*(M[P]*te+M[P+1]*ae)}var N=.5-le*le-fe*fe;if(N>=0){var V=b[u+$+q[y+ge]]*3;N*=N,_=N*N*(M[V]*le+M[V+1]*fe)}var O=.5-ce*ce-ne*ne;if(O>=0){var de=b[u+1+q[y+1]]*3;O*=O,Y=O*O*(M[de]*ce+M[de+1]*ne)}return 70*(E+_+Y)},noise3D:function(C,S,b){var q=this.permMod12,M=this.perm,E=this.grad3,_,Y,j,U,D=(C+S+b)*a,X=Math.floor(C+D),oe=Math.floor(S+D),he=Math.floor(b+D),te=(X+oe+he)*h,ae=X-te,$=oe-te,ge=he-te,le=C-ae,fe=S-$,ce=b-ge,ne,u,y,k,P,N;le>=fe?fe>=ce?(ne=1,u=0,y=0,k=1,P=1,N=0):le>=ce?(ne=1,u=0,y=0,k=1,P=0,N=1):(ne=0,u=0,y=1,k=1,P=0,N=1):fe<ce?(ne=0,u=0,y=1,k=0,P=1,N=1):le<ce?(ne=0,u=1,y=0,k=0,P=1,N=1):(ne=0,u=1,y=0,k=1,P=1,N=0);var V=le-ne+h,O=fe-u+h,de=ce-y+h,xe=le-k+2*h,s=fe-P+2*h,d=ce-N+2*h,Q=le-1+3*h,W=fe-1+3*h,ee=ce-1+3*h,I=X&255,J=oe&255,me=he&255,pe=.6-le*le-fe*fe-ce*ce;if(pe<0)_=0;else{var se=q[I+M[J+M[me]]]*3;pe*=pe,_=pe*pe*(E[se]*le+E[se+1]*fe+E[se+2]*ce)}var be=.6-V*V-O*O-de*de;if(be<0)Y=0;else{var ue=q[I+ne+M[J+u+M[me+y]]]*3;be*=be,Y=be*be*(E[ue]*V+E[ue+1]*O+E[ue+2]*de)}var ie=.6-xe*xe-s*s-d*d;if(ie<0)j=0;else{var Ae=q[I+k+M[J+P+M[me+N]]]*3;ie*=ie,j=ie*ie*(E[Ae]*xe+E[Ae+1]*s+E[Ae+2]*d)}var Se=.6-Q*Q-W*W-ee*ee;if(Se<0)U=0;else{var ve=q[I+1+M[J+1+M[me+1]]]*3;Se*=Se,U=Se*Se*(E[ve]*Q+E[ve+1]*W+E[ve+2]*ee)}return 32*(_+Y+j+U)},noise4D:function(C,S,b,q){var M=this.perm,E=this.grad4,_,Y,j,U,D,X=(C+S+b+q)*f,oe=Math.floor(C+X),he=Math.floor(S+X),te=Math.floor(b+X),ae=Math.floor(q+X),$=(oe+he+te+ae)*m,ge=oe-$,le=he-$,fe=te-$,ce=ae-$,ne=C-ge,u=S-le,y=b-fe,k=q-ce,P=0,N=0,V=0,O=0;ne>u?P++:N++,ne>y?P++:V++,ne>k?P++:O++,u>y?N++:V++,u>k?N++:O++,y>k?V++:O++;var de,xe,s,d,Q,W,ee,I,J,me,pe,se;de=P>=3?1:0,xe=N>=3?1:0,s=V>=3?1:0,d=O>=3?1:0,Q=P>=2?1:0,W=N>=2?1:0,ee=V>=2?1:0,I=O>=2?1:0,J=P>=1?1:0,me=N>=1?1:0,pe=V>=1?1:0,se=O>=1?1:0;var be=ne-de+m,ue=u-xe+m,ie=y-s+m,Ae=k-d+m,Se=ne-Q+2*m,ve=u-W+2*m,ke=y-ee+2*m,Le=k-I+2*m,Ie=ne-J+3*m,De=u-me+3*m,qe=y-pe+3*m,Qe=k-se+3*m,it=ne-1+4*m,Oe=u-1+4*m,We=y-1+4*m,Ye=k-1+4*m,Fe=oe&255,Ue=he&255,Ze=te&255,Xe=ae&255,Je=.6-ne*ne-u*u-y*y-k*k;if(Je<0)_=0;else{var $e=M[Fe+M[Ue+M[Ze+M[Xe]]]]%32*4;Je*=Je,_=Je*Je*(E[$e]*ne+E[$e+1]*u+E[$e+2]*y+E[$e+3]*k)}var Be=.6-be*be-ue*ue-ie*ie-Ae*Ae;if(Be<0)Y=0;else{var et=M[Fe+de+M[Ue+xe+M[Ze+s+M[Xe+d]]]]%32*4;Be*=Be,Y=Be*Be*(E[et]*be+E[et+1]*ue+E[et+2]*ie+E[et+3]*Ae)}var _e=.6-Se*Se-ve*ve-ke*ke-Le*Le;if(_e<0)j=0;else{var tt=M[Fe+Q+M[Ue+W+M[Ze+ee+M[Xe+I]]]]%32*4;_e*=_e,j=_e*_e*(E[tt]*Se+E[tt+1]*ve+E[tt+2]*ke+E[tt+3]*Le)}var Ke=.6-Ie*Ie-De*De-qe*qe-Qe*Qe;if(Ke<0)U=0;else{var Ne=M[Fe+J+M[Ue+me+M[Ze+pe+M[Xe+se]]]]%32*4;Ke*=Ke,U=Ke*Ke*(E[Ne]*Ie+E[Ne+1]*De+E[Ne+2]*qe+E[Ne+3]*Qe)}var Ee=.6-it*it-Oe*Oe-We*We-Ye*Ye;if(Ee<0)D=0;else{var nt=M[Fe+1+M[Ue+1+M[Ze+1+M[Xe+1]]]]%32*4;Ee*=Ee,D=Ee*Ee*(E[nt]*it+E[nt+1]*Oe+E[nt+2]*We+E[nt+3]*Ye)}return 27*(_+Y+j+U+D)}};function A(C){var S,b=new Uint8Array(256);for(S=0;S<256;S++)b[S]=S;for(S=0;S<255;S++){var q=S+~~(C()*(256-S)),M=b[S];b[S]=b[q],b[q]=M}return b}H._buildPermutationTable=A;function L(){var C=0,S=0,b=0,q=1,M=B();C=M(" "),S=M(" "),b=M(" ");for(var E=0;E<arguments.length;E++)C-=M(arguments[E]),C<0&&(C+=1),S-=M(arguments[E]),S<0&&(S+=1),b-=M(arguments[E]),b<0&&(b+=1);return M=null,function(){var _=2091639*C+q*23283064365386963e-26;return C=S,S=b,b=_-(q=_|0)}}function B(){var C=4022871197;return function(S){S=S.toString();for(var b=0;b<S.length;b++){C+=S.charCodeAt(b);var q=.02519603282416938*C;C=q>>>0,q-=C,q*=C,C=q>>>0,q-=C,C+=q*4294967296}return(C>>>0)*23283064365386963e-26}}t.SimplexNoise=H,e.exports=H})()})(Gt,Gt.exports);var rn=function(){for(var e=0;e<arguments.length;e++)if(arguments[e]!==void 0)return arguments[e]},Nn=nn.exports,Gn=Gt.exports,He=rn;function on(e){e=He(e,null);var t=Math.random,n,r,a,h=null,f=!1;return m(e),{value:H,createRandom:function(u){return on(u)},setSeed:m,getSeed:L,getRandomSeed:B,valueNonZero:A,permuteNoise:S,noise1D:b,noise2D:q,noise3D:M,noise4D:E,sign:_,boolean:Y,chance:j,range:U,rangeFloor:D,pick:X,shuffle:oe,onCircle:he,insideCircle:te,onSphere:ae,insideSphere:$,quaternion:ge,weighted:ce,weightedSet:le,weightedSetIndex:fe,gaussian:ne};function m(u,y){typeof u=="number"||typeof u=="string"?(n=u,r=Nn(n,y)):(n=void 0,r=t),a=C(),h=null,f=!1}function H(){return r()}function A(){for(var u=0;u===0;)u=H();return u}function L(){return n}function B(){var u=String(Math.floor(Math.random()*1e6));return u}function C(){return new Gn(r)}function S(){a=C()}function b(u,y,k){if(!isFinite(u))throw new TypeError("x component for noise() must be finite");return y=He(y,1),k=He(k,1),k*a.noise2D(u*y,0)}function q(u,y,k,P){if(!isFinite(u))throw new TypeError("x component for noise() must be finite");if(!isFinite(y))throw new TypeError("y component for noise() must be finite");return k=He(k,1),P=He(P,1),P*a.noise2D(u*k,y*k)}function M(u,y,k,P,N){if(!isFinite(u))throw new TypeError("x component for noise() must be finite");if(!isFinite(y))throw new TypeError("y component for noise() must be finite");if(!isFinite(k))throw new TypeError("z component for noise() must be finite");return P=He(P,1),N=He(N,1),N*a.noise3D(u*P,y*P,k*P)}function E(u,y,k,P,N,V){if(!isFinite(u))throw new TypeError("x component for noise() must be finite");if(!isFinite(y))throw new TypeError("y component for noise() must be finite");if(!isFinite(k))throw new TypeError("z component for noise() must be finite");if(!isFinite(P))throw new TypeError("w component for noise() must be finite");return N=He(N,1),V=He(V,1),V*a.noise4D(u*N,y*N,k*N,P*N)}function _(){return Y()?1:-1}function Y(){return H()>.5}function j(u){if(u=He(u,.5),typeof u!="number")throw new TypeError("expected n to be a number");return H()<u}function U(u,y){if(y===void 0&&(y=u,u=0),typeof u!="number"||typeof y!="number")throw new TypeError("Expected all arguments to be numbers");return H()*(y-u)+u}function D(u,y){if(y===void 0&&(y=u,u=0),typeof u!="number"||typeof y!="number")throw new TypeError("Expected all arguments to be numbers");return Math.floor(U(u,y))}function X(u){if(u.length!==0)return u[D(0,u.length)]}function oe(u){if(!Array.isArray(u))throw new TypeError("Expected Array, got "+typeof u);for(var y,k,P=u.length,N=u.slice();P;)y=Math.floor(H()*P--),k=N[P],N[P]=N[y],N[y]=k;return N}function he(u,y){u=He(u,1),y=y||[];var k=H()*2*Math.PI;return y[0]=u*Math.cos(k),y[1]=u*Math.sin(k),y}function te(u,y){u=He(u,1),y=y||[],he(1,y);var k=u*Math.sqrt(H());return y[0]*=k,y[1]*=k,y}function ae(u,y){u=He(u,1),y=y||[];var k=H()*Math.PI*2,P=H()*2-1,N=k,V=Math.acos(P);return y[0]=u*Math.sin(V)*Math.cos(N),y[1]=u*Math.sin(V)*Math.sin(N),y[2]=u*Math.cos(V),y}function $(u,y){u=He(u,1),y=y||[];var k=H()*Math.PI*2,P=H()*2-1,N=H(),V=k,O=Math.acos(P),de=u*Math.cbrt(N);return y[0]=de*Math.sin(O)*Math.cos(V),y[1]=de*Math.sin(O)*Math.sin(V),y[2]=de*Math.cos(O),y}function ge(u){u=u||[];var y=H(),k=H(),P=H(),N=Math.sqrt(1-y),V=Math.sqrt(y),O=Math.PI*2*k,de=Math.PI*2*P,xe=Math.sin(O)*N,s=Math.cos(O)*N,d=Math.sin(de)*V,Q=Math.cos(de)*V;return u[0]=xe,u[1]=s,u[2]=d,u[3]=Q,u}function le(u){return u=u||[],u.length===0?null:u[fe(u)].value}function fe(u){return u=u||[],u.length===0?-1:ce(u.map(function(y){return y.weight}))}function ce(u){if(u=u||[],u.length===0)return-1;var y=0,k;for(k=0;k<u.length;k++)y+=u[k];if(y<=0)throw new Error("Weights must sum to > 0");var P=H()*y;for(k=0;k<u.length;k++){if(P<u[k])return k;P-=u[k]}return 0}function ne(u,y){if(u=He(u,0),y=He(y,1),f){f=!1;var k=h;return h=null,u+y*k}else{var P=0,N=0,V=0;do P=H()*2-1,N=H()*2-1,V=P*P+N*N;while(V>=1||V===0);var O=Math.sqrt(-2*Math.log(V)/V);return h=N*O,f=!0,u+y*(P*O)}}}var kt=on(),zn=Dn;function Dn(e,t,n){if(typeof t!="number"||typeof n!="number")throw new TypeError('Must specify "to" and "from" arguments as numbers');if(t>n){var r=t;t=n,n=r}var a=n-t;return a===0?n:e-a*Math.floor((e-t)/a)}var lt=rn,qn=zn,an=Number.EPSILON;function Mt(e,t,n){return t<n?e<t?t:e>n?n:e:e<n?n:e>t?t:e}function Un(e){return Mt(e,0,1)}function Ht(e,t,n){return e*(1-n)+t*n}function sn(e,t,n){return Math.abs(e-t)<an?0:(n-e)/(t-e)}function Xn(e,t,n){var r=Mt(sn(e,t,n),0,1);return r*r*(3-2*r)}function Kn(e,t){return t=lt(t,0),typeof e=="number"&&isFinite(e)?e:t}function Pt(e){if(typeof e!="number")throw new TypeError("Expected dims argument");return function(t,n){n=lt(n,0);var r;t==null?r=n:typeof t=="number"&&isFinite(t)&&(r=t);var a=[],h;if(r==null)for(h=0;h<e;h++)a[h]=Kn(t[h],n);else for(h=0;h<e;h++)a[h]=r;return a}}function cn(e,t,n,r){if(r=r||[],e.length!==t.length)throw new TypeError("min and max array are expected to have the same length");for(var a=0;a<e.length;a++)r[a]=Ht(e[a],t[a],n);return r}function _t(e,t){if(e=lt(e,0),typeof e!="number")throw new TypeError("Expected n argument to be a number");for(var n=[],r=0;r<e;r++)n.push(t);return n}function jn(e,t){if(e=lt(e,0),typeof e!="number")throw new TypeError("Expected n argument to be a number");t=t||{},typeof t=="boolean"&&(t={endpoint:!0});var n=lt(t.offset,0);return t.endpoint?_t(e).map(function(r,a){return e<=1?0:(a+n)/(e-1)}):_t(e).map(function(r,a){return(a+n)/e})}function Qn(e,t,n){t=Mt(t,0,1);var r=e.length-1,a=t*r,h=Math.floor(a),f=a-h,m=Math.min(h+1,r),H=e[h%e.length],A=e[m%e.length];if(typeof H=="number"&&typeof A=="number")return Ht(H,A,f);if(Array.isArray(H)&&Array.isArray(A))return cn(H,A,f,n);throw new TypeError("Mismatch in value type of two array elements: "+h+" and "+m)}function hn(e,t){return(e%t+t)%t}function Wn(e){return e*Math.PI/180}function Yn(e){return e*180/Math.PI}function Zn(e){return e-Math.floor(e)}function Jn(e){return e>0?1:e<0?-1:0}function Bn(e,t){return e=hn(e,t*2),t-Math.abs(e-t)}function un(e,t,n,r){return Ht(e,t,1-Math.exp(-n*r))}function _n(e,t,n,r,a){a=a||[];for(var h=0;h<e.length;h++)a[h]=un(e[h],t[h],n,r);return a}function Vn(e,t,n,r,a,h){if(Math.abs(t-n)<an)return r;var f=(e-t)/(n-t)*(a-r)+r;return h&&(a<r?f<a?f=a:f>r&&(f=r):f>a?f=a:f<r&&(f=r)),f}var zt={mod:hn,fract:Zn,sign:Jn,degToRad:Wn,radToDeg:Yn,wrap:qn,pingPong:Bn,linspace:jn,lerp:Ht,lerpArray:cn,inverseLerp:sn,lerpFrames:Qn,clamp:Mt,clamp01:Un,smoothstep:Xn,damp:un,dampArray:_n,mapRange:Vn,expand2D:Pt(2),expand3D:Pt(3),expand4D:Pt(4)};const Ve=(e,t)=>Math.atan2(t.y-e.y,t.x-e.x),ye=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),In=(e,t)=>Math.abs(e.x*Math.sin(-t)+e.y*Math.cos(-t)),G=(e,t,n=1)=>({__type:"Point",x:e,y:t,weight:n}),Xt=(e,t,n,r)=>({__type:"CurvePoint",x:e,y:t,prevControl:n,nextControl:r}),On=(e,t=0)=>{if(e.length<=0)throw new Error("Can't find lowest point when no point is given.");let n=(t+Math.PI/2+Math.PI*2)%(Math.PI*2),r=!1;(n>=Math.PI*3/2||n<Math.PI/2)&&(r=!0);const a=L=>{let B=In(L,n),C=Ve(G(0,0),L);return n%Math.PI<Math.PI/2&&n%Math.PI>C&&(B=-B),B},h=e.slice(1).reduce((L,B,C)=>{const S=a(B);return S<L.minDistance?{minDistance:S,minIndex:C+1,maxDistance:L.maxDistance,maxIndex:L.maxIndex}:S>L.maxDistance?{minDistance:L.minDistance,minIndex:L.minIndex,maxDistance:S,maxIndex:C+1}:L},{minDistance:a(e[0]),minIndex:0,maxDistance:a(e[0]),maxIndex:0});let f=[h.minIndex,h.maxIndex];const m=G(e[f[1]].x-e[f[0]].x,e[f[1]].y-e[f[0]].y),H=m.x*Math.cos(t)+m.y*Math.sin(t),A=[e[f[0]],G(H*Math.cos(t)+e[f[0]].x,H*Math.sin(t)+e[f[0]].y)];return r?[A[1],A[0]]:A},ln=(e,t)=>{if(e.start.x===e.end.x&&e.start.y===e.end.y||t.start.x===t.end.x&&t.start.y===t.end.y)return null;const n=(t.end.y-t.start.y)*(e.end.x-e.start.x)-(t.end.x-t.start.x)*(e.end.y-e.start.y);if(n===0)return null;const r=((t.end.x-t.start.x)*(e.start.y-t.start.y)-(t.end.y-t.start.y)*(e.start.x-t.start.x))/n,a=((e.end.x-e.start.x)*(e.start.y-t.start.y)-(e.end.y-e.start.y)*(e.start.x-t.start.x))/n;if(r<0||r>1||a<0||a>1)return null;const h=e.start.x+r*(e.end.x-e.start.x),f=e.start.y+r*(e.end.y-e.start.y);return G(h,f)},$n=(e,t,n)=>({__type:"Line",points:[e,t],stroke:n}),fn=e=>{let t=null;return e&&"color"in e?t=e:e&&(t={color:e,opacity:1}),t},dn=(e,t=null,n=null)=>({__type:"Shape",points:e,fill:fn(t),stroke:n}),Vt=(e,t=1,n=null,r=null)=>({__type:"SmoothShape",points:e,smoothness:t,fill:fn(n),stroke:r}),Te=e=>({__type:"Polygon",points:e,toShape:(t,n)=>dn(e,t,n)}),Ft=(e,t,n,r)=>Te([G(e,t),G(e+n,t),G(e+n,t+r),G(e,t+r)]),Tt=({points:e})=>{let t=0,n=e.length-1;for(let r=0;r<e.length;r++)t+=(e[n].x+e[r].x)*(e[n].y-e[r].y),n=r;return Math.abs(t/2)},wt=(e,t)=>{const n=$n(G(-100,-100),t);let r=0;for(let a=0;a<e.points.length;a++)ln({start:n.points[0],end:n.points[1]},{start:e.points[a],end:e.points[(a+1+e.points.length)%e.points.length]})&&r++;return r%2===1},Re=(e,t,n)=>n.__type==="CurvePoint"?Xt(n.x+e*Math.cos(t),n.y+e*Math.sin(t),Re(e,t,n.prevControl),Re(e,t,n.nextControl)):G(n.x+e*Math.cos(t),n.y+e*Math.sin(t),n.weight),er=(e,t,n)=>n.__type==="Point"?G(e+n.x,t+n.y,n.weight):Xt(e+n.x,t+n.y,G(e+n.prevControl.x,t+n.prevControl.y),G(e+n.nextControl.x,t+n.nextControl.y)),yt=(e,t,n)=>{if(n.__type==="Point"){const a=Ve(G(0,0),G(n.x-e.x,n.y-e.y))+t;return Re(ye(e,n),a,e)}else{const r=yt(e,t,G(n.x,n.y));return Xt(r.x,r.y,yt(e,t,G(n.prevControl.x,n.prevControl.y)),yt(e,t,G(n.nextControl.x,n.nextControl.y)))}},tr=(e,t,n)=>({__type:"Translate",x:e,y:t,elements:n}),K=(e,t,n,r=1)=>({__type:"Color",h:e,s:zt.clamp(t,0,1),v:zt.clamp(n,0,1),a:r,hex:()=>{const a=Dt(e,t,n);return`rgba(${a[0]}, ${a[1]}, ${a[2]}, ${r})`}});K.mix=function(t,n,r){return K(t.h*r+n.h*(1-r),t.s*r+n.s*(1-r),t.v*r+n.v*(1-r),t.a*r+n.a*(1-r))};const nr=(e,t)=>({__type:"Gradient",colors:e,angle:t}),At=(e,t,n)=>({__type:"RadialGradient",colors:e,center:t,radius:n});function Dt(e,t,n){var r,a,h,f=Math.floor(e*6),m=e*6-f,H=n*(1-t),A=n*(1-m*t),L=n*(1-(1-m)*t);switch(f%6){case 0:r=n,a=L,h=H;break;case 1:r=A,a=n,h=H;break;case 2:r=H,a=n,h=L;break;case 3:r=H,a=A,h=n;break;case 4:r=L,a=H,h=n;break;default:case 5:r=n,a=H,h=A;break}return[Math.round(r*255),Math.round(a*255),Math.round(h*255)]}function rr(e,t,n){e=e/255,t=t/255,n=n/255;var r=Math.max(e,t,n),a=Math.min(e,t,n),h,f,m=r,H=r-a;if(f=r==0?0:H/r,r==a)h=0;else{switch(r){case e:h=(t-n)/H+(t<n?6:0);break;case t:h=(n-e)/H+2;break;default:case n:h=(e-t)/H+4;break}h/=6}return[h,f,m]}K(0,0,0);K(0,0,1);K(.25,1,1);K(.5,1,1);K(0,1,.9);let qt;const or=()=>{qt=performance.now()},ar=()=>new Promise(e=>{const t=performance.now(),n=16.7-(t-qt);qt=t,n>.1?setTimeout(()=>e(void 0),n):requestAnimationFrame(()=>e(void 0))});var at;(function(e){e.fragment="fragment",e.vertex="vertex"})(at||(at={}));function ir(e,t){switch(t){case at.fragment:return e.FRAGMENT_SHADER;case at.vertex:return e.VERTEX_SHADER}}function It(e,t,n){var r=e.createShader(ir(e,t));if(!r)throw new Error("Invalid shader type: "+t);e.shaderSource(r,n),e.compileShader(r);var a=e.getShaderParameter(r,e.COMPILE_STATUS);if(a)return r;console.error(e.getShaderInfoLog(r)),e.deleteShader(r)}function sr(e,t,n){var r=e.createProgram();if(!r)throw new Error("Failed to create WebGL program");e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r);var a=e.getProgramParameter(r,e.LINK_STATUS);if(a)return r;console.log(e.getProgramInfoLog(r)),e.deleteProgram(r)}const cr=`
    attribute vec2 a_position;
    attribute vec2 a_texCoord;

    uniform vec2 u_resolution;

    varying vec2 v_texCoord;

    void main() {
        // convert the rectangle from pixels to 0.0 to 1.0
        vec2 zeroToOne = a_position / u_resolution;

        // convert from 0->1 to 0->2
        vec2 zeroToTwo = zeroToOne * 2.0;

        // convert from 0->2 to -1->+1 (clipspace)
        vec2 clipSpace = zeroToTwo - 1.0;

        gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);

        // pass the texCoord to the fragment shader
        // The GPU will interpolate this value between points.
        v_texCoord = a_texCoord;
    }
`,hr=`
    precision mediump float;

    // our texture
    uniform sampler2D u_image;
    uniform sampler2D u_kernel;

    // the texCoords passed in from the vertex shader.
    varying vec2 v_texCoord;

    void main() {
        // gl_FragColor = texture2D(u_image, v_texCoord);

        gl_FragColor = texture2D(u_kernel, v_texCoord);
    }
`;function ur(e,t,{width:n,height:r,image:a}){var oe;const h=It(e,at.vertex,cr);var f=It(e,at.fragment,t.source||hr);if(!h||!f)throw console.error(h,f),new Error("Missing shader");var m=sr(e,h,f);if(!m)throw new Error("Program is undefined");var H=e.getAttribLocation(m,"a_position"),A=e.getAttribLocation(m,"a_texCoord"),L=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,L),lr(e,0,0,n,r);var B=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,B),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),e.STATIC_DRAW),e.viewport(0,0,e.canvas.width,e.canvas.height),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.useProgram(m),e.enableVertexAttribArray(H),e.bindBuffer(e.ARRAY_BUFFER,L);var C=2,S=e.FLOAT,b=!1,q=0,D=0;e.vertexAttribPointer(H,C,S,b,q,D),e.enableVertexAttribArray(A),e.bindBuffer(e.ARRAY_BUFFER,B);var C=2,S=e.FLOAT,b=!1,q=0,D=0;e.vertexAttribPointer(A,C,S,b,q,D);var M=e.getUniformLocation(m,"u_resolution");e.uniform2f(M,e.canvas.width,e.canvas.height);var E=e.getUniformLocation(m,"u_textureSize");e.uniform2f(E,a.width,a.height);var _=e.getUniformLocation(m,"u_image0");const Y=Ot(e,a);e.uniform1i(_,0),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,Y),(((oe=t.options)==null?void 0:oe.uniforms)||[]).forEach(({name:he,type:te,value:ae})=>{const $=e.getUniformLocation(m,he+(te==="float[]"?"[0]":""));if(te==="vec2")e.uniform2f($,...ae);else if(te==="vec4")e.uniform4f($,...ae);else if(te==="float[]")e.uniform1fv($,ae);else if(te==="float")e.uniform1f($,ae);else if(te==="texture"){const ge=Ot(e,ae);e.uniform1i($,1),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,ge)}});var U=e.TRIANGLES,D=0,X=6;e.drawArrays(U,D,X)}function lr(e,t,n,r,a){var h=t,f=t+r,m=n,H=n+a;e.bufferData(e.ARRAY_BUFFER,new Float32Array([h,m,f,m,h,H,h,H,f,m,f,H]),e.STATIC_DRAW)}const Ot=(e,t)=>{var n=e.createTexture();return e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),n};var Ut;(function(e){e.round="round",e.square="square"})(Ut||(Ut={}));const gn=async(e,{background:t,border:n,elements:r},{width:a,height:h,resolution:f,pixelDensity:m,setSeed:H},A,{shouldTick:L=!0,addCanvas:B,setCanvasSize:C})=>{let S=[],b={x:0,y:0};var q=[],M=new IntersectionObserver(s=>{s.forEach(d=>{if(!d.isIntersecting)return;const Q=q.find(({node:W})=>W===d.target);!Q||(requestAnimationFrame(()=>{Q.draw()}),M.unobserve(Q.node))})},{rootMargin:"200px",threshold:0});const E=(s,d=0)=>{if(s.__type==="Shape"||s.__type==="SmoothShape"||s.__type==="SmoothLine"||s.__type==="Line")return s.points;if(s.__type==="Arc"&&s.startAngle===0&&s.endAngle===Math.PI*2)return[Re(s.radius,d,s.center),Re(s.radius,d+Math.PI,s.center)];throw new Error("not implemented yet")},_=(s,d)=>{if(s.__type==="Gradient"){const Q=E(d,s.angle),[W,ee]=On(Q,s.angle),I=e.createLinearGradient(W.x,W.y,ee.x,ee.y),J=s.colors.length;return s.colors.forEach((me,pe)=>{I.addColorStop(pe/(J-1),me.hex())}),I}else if(s.__type==="RadialGradient"){const Q=e.createRadialGradient(s.center.x,s.center.y,0,s.center.x,s.center.y,s.radius),W=s.colors.length;return s.colors.forEach((ee,I)=>{Q.addColorStop(I/(W-1),ee.hex())}),Q}else return s.hex()},Y={round:"round",square:"butt"},j={round:"round",square:"miter"},U=(s,d)=>{e.globalAlpha=s.opacity||1,e.strokeStyle=_(s.color,d),e.lineWidth=s.width,e.lineCap=s.style?Y[s.style]:"butt",e.lineJoin=s.style?j[s.style]:"miter"},D=(s,d)=>{e.globalAlpha=Number.isNaN(s.opacity)?1:s.opacity,e.fillStyle=_(s.color,d),e.globalCompositeOperation=s.compositionOperation||"source-over",e.filter=s.filter||"none"},X=s=>{!s.stroke||(e.beginPath(),e.moveTo(s.points[0].x,s.points[0].y),s.points.slice(1).forEach(d=>{e.lineTo(d.x,d.y)}),U(s.stroke,s),e.stroke())},oe=s=>{!s.stroke||($(s),U(s.stroke,s),e.stroke())},he=s=>{e.beginPath(),e.moveTo(s.points[0].x,s.points[0].y),s.points.slice(1).forEach(d=>{e.lineTo(d.x,d.y)}),e.closePath()},te=s=>{let d="";return d+=`M${s[0].x+b.x} ${s[0].y+b.y}`,s.slice(1).forEach(Q=>{d+=` L${Q.x+b.x} ${Q.y+b.y}`}),d+" z"},ae=s=>{he(s),s.fill&&(D(s.fill,s),e.fill()),s.stroke&&(U(s.stroke,s),e.stroke())},$=s=>{let d=new Array(s.points.length-1).fill(null).map(()=>[null,null]);const Q=s.points[0];d[0][0]=Q.__type==="CurvePoint"?Q.nextControl:Q;for(let W=1;W<s.points.length-1;W++){const ee=s.points[W];if(ee.__type==="CurvePoint")d[W-1][1]=ee.prevControl,d[W][0]=ee.nextControl;else if(ee.__type==="Point"){const I=s.points[W-1],J=s.points[W+1],me=Ve(I,J);if(d[W-1][1]===null){const pe=ye(I,ee)*ee.weight*s.smoothness;d[W-1][1]=Re(-pe,me,ee)}if(d[W][0]===null){const pe=ye(ee,J)*ee.weight*s.smoothness;d[W][0]=Re(pe,me,ee)}}else throw new Error("not implemented yet")}if(!d[s.points.length-2][1]){const W=s.points[s.points.length-1];d[s.points.length-2][1]=W.__type==="CurvePoint"?W.prevControl:W}e.beginPath(),e.moveTo(s.points[0].x,s.points[0].y),s.points.slice(1).forEach((W,ee)=>{if(d[ee][0]===null||d[ee][1]===null)throw new Error("Not implemented yet.");const I=d[ee][0],J=d[ee][1];e.bezierCurveTo(I.x,I.y,J.x,J.y,W.x,W.y)})},ge=s=>{$(s),e.closePath(),s.fill&&(D(s.fill,s),e.fill()),s.stroke&&(U(s.stroke,s),e.stroke())},le=s=>{e.beginPath(),e.arc(s.center.x,s.center.y,s.radius,s.startAngle,s.endAngle),s.stroke&&(U(s.stroke,s),e.stroke()),s.fill&&(D(s.fill,s),e.fill())},fe=s=>{e.save(),O([s.shape]),e.clip(),O(s.elements),e.restore()},ce=s=>{e.save();const d=b;b={x:s.x,y:s.y},e.translate(s.x,s.y),O(s.elements),b=d,e.restore()},ne=s=>{if(!A)throw new Error('You forgot to set the option "interactive: true" on canvas-jp options.');const d=document.createElementNS("http://www.w3.org/2000/svg","path");d.setAttribute("d",te(s.points)),d.setAttribute("data-type","click"),s.events.forEach(({on:Q,trigger:W})=>{let ee=I=>{I.stopPropagation(),W(I)};d.addEventListener(Q,ee),S.push(()=>{d.removeEventListener(Q,ee)})}),A.appendChild(d)},u=s=>{if(!A)throw new Error('You forgot to set the option "interactive: true" on canvas-jp options.');const d=document.createElement("div"),Q=s.points.map(({x:se})=>se),W=Math.min(...Q),ee=Math.max(...Q),I=s.points.map(({y:se})=>se),J=Math.min(...I),me=Math.max(...I);d.setAttribute("style",`
        position: absolute;
        left: ${W+b.x}px;
        top: ${h-(me+b.y)}px;
        width: ${ee-W}px;
        height: ${me-J}px;
        pointer-events: none;
      `),d.setAttribute("data-type","visibility");let pe={...b};q.push({node:d,draw:()=>{e.save(),de(),ce(tr(pe.x,pe.y,s.elements)),e.restore()}}),M.observe(d),A.after(d)},y=s=>{const{reset:d,random:Q}=H(s.id);O(s.elements(Q)),d()},k=()=>e.getImageData(0,0,e.canvas.width,e.canvas.height),P=s=>{const d=document.createElement("canvas"),Q=d.getContext("2d");if(C(d),!Q)throw new Error("uh oh, failed to get canvas context.");gn(Q,{elements:s.elements},{width:a,height:h,resolution:f,pixelDensity:m,setSeed:H},A,{shouldTick:!1,addCanvas:B,setCanvasSize:C}),e.globalCompositeOperation=s.compositionOperation||"source-over",e.drawImage(d,0,0),d.remove()},N=s=>{const d=document.createElement("canvas"),Q=d.getContext("webgl2");if(!Q)throw new Error("Failed to initialize gl");C(d),ur(Q,s,{width:a*f*m,height:h*f*m,image:k()}),e.clearRect(0,0,a*f*m,h*f*m),e.globalCompositeOperation=s.compositeOperation||"source-over",e.drawImage(d,0,0),d.remove()},V=s=>{const d=e.getImageData(0,0,a*f*m,h*f*m);s.transform(d),e.putImageData(d,0,0,0,0,a*f*m,h*f*m)},O=s=>{s.forEach(d=>{d.__type==="Line"?X(d):d.__type==="SmoothLine"?oe(d):d.__type==="Shape"?ae(d):d.__type==="SmoothShape"?ge(d):d.__type==="Arc"?le(d):d.__type==="Clip"?fe(d):d.__type==="Translate"?ce(d):d.__type==="ClickRegion"?ne(d):d.__type==="RenderOnlyWhenVisible"?u(d):d.__type==="Seed"?y(d):d.__type==="Overlay"?P(d):d.__type==="UpdateImageData"?V(d):d.__type==="Shader"&&N(d)})},de=()=>{e.translate(0,h*f*m),e.scale(f*m,-1*f*m)};e.save(),or(),A&&(A.innerHTML=""),de();const xe=Te([G(0,0),G(0,h),G(a,h),G(a,0)]).toShape();if(n&&(D({color:n.color,opacity:1},xe),e.fillRect(0,0,a,h)),t){D({color:t,opacity:1},xe);const s=(n==null?void 0:n.width)||0;e.fillRect(s,s,a-s*2,h-s*2)}return O(r),L&&await ar(),e.restore(),S};async function fr(e,t,n){const r=async f=>{const{height:m,width:H,resolution:A,interactive:L=!1}=typeof n=="function"?n():n;let B=kt.createRandom(f||Number(kt.getRandomSeed()));e.innerHTML="",e.dataset.seed=B.getSeed()+"";const C=document.createElement("canvas");e.appendChild(C),e.style.height=`${m*A}px`,e.style.width=`${H*A}px`;const S=zt.clamp(window.devicePixelRatio||1,1,2),b=D=>{D.width=H*A*S,D.height=m*A*S};b(C);const q=C.getContext("2d");if(!q)throw new Error("Failed to initialize canvas context");let M=null;if(L&&!M){const D=document.createElement("div"),X=Math.round(Math.random()*1e4);D.innerHTML=`<svg
        viewBox="0 0 ${H} ${m}"
        width="${H}"
        height="${m}"
        xmlns="http://www.w3.org/2000/svg"
        class="svg-canvas-jp-${X}"
    ></svg>`,M=D.children[0],e.style.position="relative",e.appendChild(M);const oe=document.createElement("style");oe.innerHTML=`
        .svg-canvas-jp-${X} {
            position: absolute;
            left: 0;
            top: 0;
            right: 0;
            bottom: 0;
            transform: scale(1,-1);
        }
        .svg-canvas-jp-${X} path {
            cursor: pointer;
            user-select: none;
            fill: transparent;
        }
    `,e.appendChild(oe)}let E=null;const _=()=>{E&&E.length&&(E.forEach(D=>D()),E=null),e.innerHTML=""},Y=D=>{const X=Math.round(Math.random()*1e4);D.classList.add(`canvas-jp-overlay-${X}`),b(D),e.style.position="relative",e.appendChild(D);const oe=document.createElement("style");oe.innerHTML=`
        .canvas-jp-overlay-${X} {
          position: absolute;
          left: 0;
          top: 0;
          right: 0;
          bottom: 0;
        }
      `,e.appendChild(oe)};let j=async()=>{try{const D=t(B,{width:H,height:m,resolution:A*S});E=[];for await(let X of D)!X||(E=E==null?void 0:E.concat(await gn(q,X,{height:m,width:H,resolution:A,pixelDensity:S,setSeed:U},M,{addCanvas:Y,setCanvasSize:b})))}catch(D){console.error("Failed frame"),console.error(D)}};const U=D=>{let X=B;return B=kt.createRandom(D),{random:B,reset:()=>{B=X}}};return await j(),_},{plugins:a=[]}=typeof n=="function"?n():n;return a.reduce((f,m)=>m(f,e),r)()}function dr(e){return function(t,n){let r=null,a,h,f;n.addEventListener("touchstart",L=>{r&&performance.now()-r<200?(clearTimeout(f),r=null,h=!1,A()):(a={x:L.touches[0].clientX,y:L.touches[0].clientY},r=performance.now())},{passive:!1}),n.addEventListener("touchmove",L=>{h=a&&(Math.abs(a.x-L.touches[0].clientX)>20||Math.abs(a.y-L.touches[0].clientY)>20)}),n.addEventListener("touchend",L=>{L.stopPropagation(),L.preventDefault(),r&&performance.now()-r>300?(h||m(),clearTimeout(f),r=null):f=setTimeout(()=>{r=null,t()},500)});var m=function(){var L=document.createElement("a");L.download=`${e}.png`;const B=n.querySelector("canvas");if(!B)throw new Error("No canvas found.");L.href=B.toDataURL(),L.click()};window.addEventListener("keydown",async L=>{L.key===" "?await t():L.key==="s"?m():L.key==="Enter"&&A()});let H;window.addEventListener("resize",()=>{H&&clearTimeout(H),H=setTimeout(()=>{t(),H=void 0},300)});async function A(){document.fullscreenElement?document.exitFullscreen&&await document.exitFullscreen():await document.documentElement.requestFullscreen()}return(...L)=>t(...L)}}function gr(e){return function(t,n){var A,L,B,C,S;let r;const a=new URLSearchParams(window.location.search);let h=a.get("index")&&Number(a.get("index"))<e.length&&Number(a.get("index"))>=0?Number(a.get("index"))-1:Math.floor(Math.random()*e.length);(A=document.querySelector(".details__open"))==null||A.setAttribute("href",`https://www.fxhash.xyz/gentk/${e[h].id}`),history.replaceState({},"",`?index=${h+1}`);async function f(b){var q;h=(h+b+e.length)%e.length,(q=document.querySelector(".details__open"))==null||q.setAttribute("href",`https://www.fxhash.xyz/gentk/${e[h].id}`),history.pushState({},"",`?index=${h+1}`),r&&r(),r=await t(e[h].generationHash)}window.addEventListener("keydown",b=>{b.key==="ArrowRight"?f(1):b.key==="ArrowLeft"&&f(-1)}),(L=document.querySelector(".details__prev"))==null||L.addEventListener("click",function(b){b.stopPropagation(),f(-1)}),(B=document.querySelector(".details__next"))==null||B.addEventListener("click",function(b){b.stopPropagation(),f(1)}),(C=document.querySelector(".details__open"))==null||C.addEventListener("click",function(b){b.stopPropagation()});const m=document.querySelector(".details"),H=document.querySelector(".details__close");return(S=document.querySelector(".details__close"))==null||S.addEventListener("click",function(b){b.stopPropagation(),m.classList.remove("open"),H.blur()}),m.addEventListener("click",function(){m.classList.contains("open")?(m.classList.remove("open"),m.blur()):m.classList.add("open")}),async()=>(r=await t(e[h].generationHash),()=>r())}}const pr=function(e){return e*=2,e<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},mr=function(e){return 1-pn(1-e)},pn=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},vr=function(e){return e<.5?mr(e*2)*.5:pn(e*2-1)*.5+.5},$t=(e,t,n)=>G(e.x*(1-n)+t.x*n,e.y*(1-n)+t.y*n);var wr=function(){for(var e=0;e<arguments.length;e++)if(arguments[e]!==void 0)return arguments[e]},yr=Mr;function Mr(e,t,n){if(typeof t!="number"||typeof n!="number")throw new TypeError('Must specify "to" and "from" arguments as numbers');if(t>n){var r=t;t=n,n=r}var a=n-t;return a===0?n:e-a*Math.floor((e-t)/a)}var ft=wr,Hr=yr,mn=Number.EPSILON;function xt(e,t,n){return t<n?e<t?t:e>n?n:e:e<n?n:e>t?t:e}function xr(e){return xt(e,0,1)}function bt(e,t,n){return e*(1-n)+t*n}function vn(e,t,n){return Math.abs(e-t)<mn?0:(n-e)/(t-e)}function br(e,t,n){var r=xt(vn(e,t,n),0,1);return r*r*(3-2*r)}function Er(e,t){return t=ft(t,0),typeof e=="number"&&isFinite(e)?e:t}function Lt(e){if(typeof e!="number")throw new TypeError("Expected dims argument");return function(t,n){n=ft(n,0);var r;t==null?r=n:typeof t=="number"&&isFinite(t)&&(r=t);var a=[],h;if(r==null)for(h=0;h<e;h++)a[h]=Er(t[h],n);else for(h=0;h<e;h++)a[h]=r;return a}}function wn(e,t,n,r){if(r=r||[],e.length!==t.length)throw new TypeError("min and max array are expected to have the same length");for(var a=0;a<e.length;a++)r[a]=bt(e[a],t[a],n);return r}function en(e,t){if(e=ft(e,0),typeof e!="number")throw new TypeError("Expected n argument to be a number");for(var n=[],r=0;r<e;r++)n.push(t);return n}function Cr(e,t){if(e=ft(e,0),typeof e!="number")throw new TypeError("Expected n argument to be a number");t=t||{},typeof t=="boolean"&&(t={endpoint:!0});var n=ft(t.offset,0);return t.endpoint?en(e).map(function(r,a){return e<=1?0:(a+n)/(e-1)}):en(e).map(function(r,a){return(a+n)/e})}function Rr(e,t,n){t=xt(t,0,1);var r=e.length-1,a=t*r,h=Math.floor(a),f=a-h,m=Math.min(h+1,r),H=e[h%e.length],A=e[m%e.length];if(typeof H=="number"&&typeof A=="number")return bt(H,A,f);if(Array.isArray(H)&&Array.isArray(A))return wn(H,A,f,n);throw new TypeError("Mismatch in value type of two array elements: "+h+" and "+m)}function yn(e,t){return(e%t+t)%t}function Sr(e){return e*Math.PI/180}function kr(e){return e*180/Math.PI}function Pr(e){return e-Math.floor(e)}function Fr(e){return e>0?1:e<0?-1:0}function Tr(e,t){return e=yn(e,t*2),t-Math.abs(e-t)}function Mn(e,t,n,r){return bt(e,t,1-Math.exp(-n*r))}function Ar(e,t,n,r,a){a=a||[];for(var h=0;h<e.length;h++)a[h]=Mn(e[h],t[h],n,r);return a}function Lr(e,t,n,r,a,h){if(Math.abs(t-n)<mn)return r;var f=(e-t)/(n-t)*(a-r)+r;return h&&(a<r?f<a?f=a:f>r&&(f=r):f>a?f=a:f<r&&(f=r)),f}var w={mod:yn,fract:Pr,sign:Fr,degToRad:Sr,radToDeg:kr,wrap:Hr,pingPong:Tr,linspace:Cr,lerp:bt,lerpArray:wn,inverseLerp:vn,lerpFrames:Rr,clamp:xt,clamp01:xr,smoothstep:br,damp:Mn,dampArray:Ar,mapRange:Lr,expand2D:Lt(2),expand3D:Lt(3),expand4D:Lt(4)};const tn=(e,t)=>{const n=[];for(let r=0;r<e.length;r++){if(t.includes(r))continue;const a=e[r%e.length],h=e[(r+1)%e.length];n.push({start:a,end:h})}return n},Nr=e=>({__type:"UpdateImageData",transform:e}),Nt=(e,t,n,r)=>Gr(e,t,0,Math.PI*2,n,r),Gr=(e,t,n,r,a,h)=>({__type:"Arc",center:e,radius:t,startAngle:n,endAngle:r,fill:a,stroke:h}),zr=[{generationHash:"ooLdnFyTY7ee64KhuCmXWGx5x9XDtuS2eEjD8G6uat3KdGLqokt",id:1174021},{generationHash:"onx2sEoQefVcnB2ZZwy5LJY7FC1x7hk7CebF3pb9PubvY5jHzi2",id:1174020},{generationHash:"oo6fdgcnRzXV24Xa9XDEfMsZDKJqJTAe6eXWyrKrkzXRA7s5m9E",id:1174010},{generationHash:"ooHG7nSk5vapc2HCp35xF4aD6mMHet7iYHZJVLjyasMmRPxQ9x5",id:1174007},{generationHash:"ooQpWvqKqeYhAdAVwjrXT2M8b1uJf9wvEyrxGeepChQSjKRydqz",id:1174004},{generationHash:"onhVjs5ZECUGnZixdQ5P6bxL7Axij4rhGAGQyXEY8s2mHzrTRBm",id:1174003},{generationHash:"onmU4mvnANcEEnnCUdXKtYGNReKczy67qgvWcbrjhVQgCW6RCKj",id:1174002},{generationHash:"ooDuLRE8orrrDu1bHSxKPYHm9DeiiE7nhZAqbUtD68ufQwFYfaX",id:1174e3},{generationHash:"onrVzUq3FRdcQsHjGTVkeAv26MqFqttkrpTqK6SsiXnN7mAZung",id:1173999},{generationHash:"onijq1K9hfj4UfJQdVFJKs3idETqWqj6iYkCgMFzi9BoBGLDZd1",id:1173997},{generationHash:"ooTE3JtcCnZ4vNSA7akURVUNt8aQqc4mRYkrk5osLaBweoT7yjG",id:1173996},{generationHash:"oo88Jx5d6of32xE6AjHKNYowWnYjC9iFqU6nEHmX45niyHFB2hQ",id:1173995},{generationHash:"opLqqsxM9PEh4W7pxWXa1fswt7Cg8PUXkM7iwbawzPEQCvaasys",id:1173992},{generationHash:"ooyAjaj92xyt3Utvq84xFbWZjc3fqb1PA2bvDaANHajJG7rbh4q",id:1173991},{generationHash:"oonzvrf8E2QMFJN4BzHS7Hrjmn75186jkG5fQKtbWVsknYicmgF",id:1173990},{generationHash:"onssFR33Fwp68PPFndpWaybXdYcmvio3DhWwXJVQ7L97rq6oYiq",id:1173989},{generationHash:"ooHtyXXWcE1gerM2wrHJGY6kXksrP1ZhsX42cnK8REKFBoBJUej",id:1173988},{generationHash:"opRgTWnYFgGAYKXP9ko6bm7XiFwJ5YWb1JYCgDGGozpgRPchhqk",id:1173987},{generationHash:"ooqZ3sSsSwPqxAfnXet5AwoweXTdthnikLQ6Z5p1Ha8ai9Cf4vw",id:1173986},{generationHash:"opNekSekXD3pPybEXkVsMGANFnckdRhPma2cWwp9Nx5NzuChaU6",id:1173985},{generationHash:"ooam27w5teGv96CLnQmXuqKtxHYWSW9rQLj6fYKe7gaSK2YNPCE",id:1173984},{generationHash:"oo1xwu5zvJJXkjLiPw2gAXVXbtrMGcyb9u9kWG9c3ku82x7gR3g",id:1173983},{generationHash:"ooq2mw6cHFpfGRBHsEqb5FrGzQdtLRoL5cs46HQ6LNBKrGNcoWF",id:1173982},{generationHash:"opWdi8e7crxuD7bYtuyudxxVdVeMD54n4VoDWnyDbX2Z7ExaN2Z",id:1173981},{generationHash:"ooxiecc1HJGtN7mDW4rrM5FhdKAuSbKoegbkAEgFDgVXxuo7ge5",id:1173980},{generationHash:"oogfk7kufaDLLQDkmeQXktRqLyM7UbtWzWY87emUQnAHB4NprU4",id:1173979},{generationHash:"opQhCC7FWMKuoT9FRLHhGivhrzb6aTKaczqkAXj3s9YEVH15JEh",id:1173978},{generationHash:"ooxQuRsJnPE65cBgSLFAREfJvfmqutkhUmyy4TFsK4ggjrsVS2q",id:1173977},{generationHash:"op6c2EHFj4pKA9VSDj2uBkY1m138TmF36AZmrJbKtAVhziZSeWV",id:1173976},{generationHash:"ooGfZPokEjAyBCbyG4DUyAuhXwKxCnA9cCGybCVSveKxFM13mLs",id:1173975},{generationHash:"opVffrosTH1CzCEnKM4rLFaQbAk2bXuJ7s6PNgVkT6KcMYeJEGa",id:1173974},{generationHash:"opL78idzDDhA1sBqB3R6iZ41K9w7vqpenRbERHF3a9orCdiW2Jx",id:1173973},{generationHash:"op4dDmY1zx8B9RSLxcJUWrN949QQSRUX5x4ABfCRySCMFLvZ2bQ",id:1173972},{generationHash:"opRK9aWgU4tKzPCstKMb9VnahB3Uh7gcgvczdcAoYya73E3eDzq",id:1173971},{generationHash:"oo6Kac9k4FHSVwfyBM94KETwMJwgaobb76ASeRBbT2jcJp1hykg",id:1173970},{generationHash:"ooS6ZTdENrD7FJJ7VHPnTKbi6irw4dzNJuT5KZmwxfpSA4PELv8",id:1173969},{generationHash:"ooZcPKsJaQgUUqUj9qAmByhYUDE8XbHYsCLpyLfYAiAPRMG1gWd",id:1173968},{generationHash:"ooTv5sji5nMUswqu2PHkTfwGeiuudwsm3NXLAaH88scBUaih3KT",id:1173967},{generationHash:"ooTWvBn9uDHoSDARxHmcnVXbZiCF2q5iEnmeNrrhhXGZgnNGXDX",id:1173966},{generationHash:"ooF6Mfz4ioyusFQ3bdmQAGpNkYDHNx1DxfxaQ2wn1h4xU8zuGdH",id:1173965},{generationHash:"oneRqeoAgSJMYFYg9koQjsQAxLTysxRnzoyQPqQ46mz4C9L6sit",id:1173964},{generationHash:"onxbnDyEFr5xSbqTcDUEdDQvDhBnfGS3FHtwBq6P8Z8iWEWG7Hk",id:1173963},{generationHash:"onpZFMvsZMPCoU5rquvJ8K5J8yFANqrhu41KLaRNmZeSAjG8igc",id:1173962},{generationHash:"oodtzxTS4MA9mETSNirBkibV9rr5Mo71xwuirxHa4A1KMe52Z1d",id:1173961},{generationHash:"onoZ6422YZwDCMtSswSynoahTaUEVZcvn3aFdC34VKgAVxood1v",id:1173960},{generationHash:"ooxaw8YfkSbX8u3bh39MbaV2KpQSFvQURXrv8Mv8JKcWvwKT1Ky",id:1173959},{generationHash:"onxk8wLtCMqWPagUDiW53ZjaM7wnDteFENfZd4u1L15i7NKcHBx",id:1173958},{generationHash:"opHJfQpa93m1xEyutjj8zLxyNuMK3tQ4oCmMAWqrUxSWmqCWSLs",id:1173957},{generationHash:"ooyx8MLszb2w8ZDsgS8tTqaweKzgWwhgEskVCAZgEvkuMvtaytX",id:1173956},{generationHash:"opMLGjXk2jeJbFAaBZMVnmCjah3hZSUCd6WSDs9dq3D522uv89V",id:1173955},{generationHash:"opDo2gak6RbsdZN1AukgVAv4nHymfW44DRv1MCQUvEq9gS5yDrz",id:1173954},{generationHash:"ooSVwes7Pde3xFAvU5RUAMQRi8vqw3LaDT8gu6uK2UVLw5rPnw5",id:1173953},{generationHash:"ooFESH3yTyTft91yuSA7FdexobW8AXqG3cPZm4gWGs8j5wCLR3B",id:1173952},{generationHash:"oo5x1Fn4gJc4qcKtSy6gQ57yf5ftLMbVbbFfir4XCBpf9UmgQzW",id:1173951},{generationHash:"op2TkifrFUx1SyhXX6qchPKRUZfuFD85L2V11AL3Tp25iT49pe8",id:1173950},{generationHash:"oonDXPCWLpZxSkbrKSwA3Zok53vVCy7JKy171kLBzPMmhENWDQe",id:1173949},{generationHash:"opMRpYss7dRZUWwzSQe25JeHFwZySEB187y7cZW46mv7bMW8P5j",id:1173948},{generationHash:"opALvLXFyVFKfVYducR5QPHwSED2jNdyN7qPExwMvxUyyVK1UGQ",id:1173947},{generationHash:"op8h7E1L7abkzQLwH9V4qCvK1qZW5uRqZsBMSDhKDbPPKmPm3Qs",id:1173946},{generationHash:"opJBSs7Y1rK5q3Truwhmzkz72MdRBpKqmCAenAxLMte8RddThYz",id:1173945},{generationHash:"ooALtThCmYCGe83Nmy9oE39LkmyknojktCnJnxLNSR3Q3Xr1x3s",id:1173944},{generationHash:"ooDYuEWoFjzJzzCiU962Yzb5YrjTV7Gz7cAfsmB8PFfBhciSFBh",id:1173943},{generationHash:"ony51qeND5EmPLekcVppwgR2AkyDgEEL4kw8jaJ7AJHXqmQ4eBA",id:1173942},{generationHash:"ooFoDBCiR4bTx1as6WRHurgxHTUeBotbG2iiFaX4wXYrNr72EPi",id:1173941},{generationHash:"onj8zggny9hx5hAyfMz2z2WU44MAK9xYPYGsVH1KzM53rdGFi84",id:1173940},{generationHash:"oorxvCFyKzJEVFMJY62ggUGYTDW8LTRMeJkG1gNWdGoRsGk1twH",id:1173939},{generationHash:"ooWAeHy9nSuPryX57iEWyP9dBGKwXe8nr3JSSNPFgvNViS22wAb",id:1173938},{generationHash:"opa1nt8jMFz1zxPiXLNPVrimxTzNyZNErd66TKifatTtvtaSpQb",id:1173937},{generationHash:"ooiN7pemngdt9EVnAHY8PcWnXPSAszA3iruh4qqqVCjyUjXe7V7",id:1173936},{generationHash:"opYswzkc7uqE3govhYQJV3A79Y9ujJ4NgpGJdc9UX9Qv2FRTXA2",id:1173935},{generationHash:"ooRT78EGQpGpWHQBERaYBaBmnTdYHxWUezx8j4nkwqnaQCSSi9s",id:1173934},{generationHash:"onv51VeBaapNtxCGG95DfvMTnJ5FkzSWw5Yhs5AUGyGPAg827Rq",id:1173933},{generationHash:"ooDjRoSVbspuR4kpSVxJfRFzH15L5wyctJ1jDdP66anTyGntycJ",id:1173932},{generationHash:"op9h3zzqUP6GmYUY1XoSFNFqkJMMzcq3FfRztoTVUnbzdtNGZwe",id:1173931},{generationHash:"ooic7EXVkC2NDAzghse1R1TL1o5Azh4ssr4EXpKiHK6gRZ5Wtdk",id:1173930},{generationHash:"opKZWYcfiyfLWyxoz3NvtQQTFjM9cSFWzqrvZk5qAmphE1Drhww",id:1173929},{generationHash:"opTkTnxZkg5nBZ4ieZwVU7ACN1wRw2UE8huMmVGZYFvG1mBdz8B",id:1173928},{generationHash:"ongcFVqUb5w6CuijApTMw76nwfKifMPCcfDmKdcWmGtAoT7Fn13",id:1173927},{generationHash:"op92Rdf47JEFdNXPmwWapQ71fpL2pk3s8AcPFrThWJ1bpBB73wb",id:1173926},{generationHash:"oovvV2GDWczuPVPTBT7gtB692RNPSXdkpoyWMiV9yi4BYmAkg4i",id:1173925},{generationHash:"ooResqMPEqDr6UvubRXzw9ho3uuRKMPdf2zjpZ7jpTMDuBMzEoZ",id:1173924},{generationHash:"opAj9WZHmcKgZ2knmxPiPKiNnUfdxkcoK6RtGDgy9jyHRwm99Gb",id:1173923},{generationHash:"op9GG1fimAtwfWCQ8KrsEHWuT33gvszCctgd9j2VfBix2pJHwZ9",id:1173922},{generationHash:"oo51o3v1dwk624LhCpGKQ5bKiPfr4oaR2KCyCMbE8PhNrrSLZrQ",id:1173921},{generationHash:"onpfvwuQe5msGgGMqedK1PQ2Pfv74tx7WH3KLNgoH6dC8EFc4Bk",id:1173920},{generationHash:"ooTqHF8p8FJNMdYZ6CAjRKtDxHJyNGCV7SND2gTWgist9hFiuex",id:1173919},{generationHash:"opNyUabC3W5b8pMGbASjHQ5vWEkJwQCcjunaezP2ibLZb81Tio6",id:1173918},{generationHash:"opVE4HEJ4o5cgCzoSCGYcebdUt3Sz8yLZ6xdSuZ1Wek9nUnAe5q",id:1173917},{generationHash:"ookLqFr1eefmvzSxcMN4mC6NYRxGbGt7oWFCScxvaM2UNcQ3puM",id:1173916},{generationHash:"ooDmZBGEmat2z7uUsZkXvre9rDA21sRhiuMCVxh3rJsQTkzZNnE",id:1173915},{generationHash:"ooWazpvzA6M6YseK6ndq8YS8m3LbPqVWPrbs8P5ZjNFnJ6giJUa",id:1173914},{generationHash:"oob12L6S85YPAxD7jQV7SzMKmc1G7nT3ELUu6rQ84QEeeQ7dDC8",id:1173913},{generationHash:"ooXYL7y4dxQQrqt7KHpFPi5JEGFsupFryfi12e4aZyEypz3Lhd4",id:1173912},{generationHash:"oopfpsLMGVo36cUWXQi2sKevnp5aXvQQAqSoQx6c1bKdGiymZs4",id:1173911},{generationHash:"ooHjWgYCf4VXPoiTAfYobXzPGSaK8gGTVXVav3P2sCxBucGzUkg",id:1173910},{generationHash:"ooiFu7AX4HAqGbnMzRLPoWGbYZs6qfk44J23QUfSjeqZbof2QuQ",id:1173909},{generationHash:"oonqaN9p4wLr1hP7BoDU5hojyshneWocbLAbBuejSqqjUgdQDHP",id:1173908},{generationHash:"ooRy7DHpGfiJaNFVumZSjNc9dz3eZYSsJCtdYtpWp6Ngrk7KTu3",id:1173907},{generationHash:"opMHr9MoCc5b4ozvs4tJ9Y1Fb5XDdnQL7kR3vPVW4YpViNbcXYT",id:1173906},{generationHash:"oonN7KeoXJJD8VMdV6EYrKbP5S5vzZVpyWjGF5F4YFbnUuMbA2b",id:1173905},{generationHash:"op1ukCTBvmKPERm7cgnN4kYq981SqQq2RBQjyBZ2c3eziE9mZzt",id:1173904},{generationHash:"opUreaFZzrjNLk31ZjuKE12hMDJXkGXPeVcDM4dVsDkzoFJmwXP",id:1173903},{generationHash:"opZnBiSwnMpqACREtafNpppN2qBHY8XF6UR326ybSxE2oYo5pB4",id:1173902},{generationHash:"ooHi5ahW3u7XH9CY9FCPqrWm16xiUiXgdxQkVbCqNfpX44HsgNz",id:1173901},{generationHash:"onx7mAqHUdz9CLWYAZtNUPt9zMmMmaSGKrcq72jnYYK9Q3Nv8ub",id:1173900},{generationHash:"opUTZacKNnRJmtZd5a9LM62MxDQNLCSjoQbdq7qqxjskXPnRHPj",id:1173899},{generationHash:"ooFmxmUXaZd9LLPJorkNGDP3CM38RNVVyjo2nbCJ7ZncAyrJ857",id:1173898},{generationHash:"opLAFTaDBwZZQJbkhRDcujMM8c5t9qs8NKwSiy9mSqpfpHMSFm3",id:1173897},{generationHash:"opH6LeZRT3kTipRdQQA9RCRJExdDTyk3GJBrvwS7tnHkCKY9hus",id:1173896},{generationHash:"opX1uDemMqTgviCECmQuaRpFBMaQ3fGFKwKboUdgUVbJbjuw6Mq",id:1173895},{generationHash:"ooCXPMQkw1tBTgMwgVgd5V3jniF1dZxFPyoYyRSZb3CY9AwseZm",id:1173894},{generationHash:"opCvp4udE5ZzRuoVQerwUmT7hu4voCK5t2RjWf3D31FLX2dP4ce",id:1173893},{generationHash:"opPJa8J891fWgeqbJBk8z8kAhnexsnpoDhZZKC6ccLGzRw7DxSH",id:1173892},{generationHash:"ooEK1RL3RzKeA4VQgmrn295quH2EUVqmtjN9cgvyQo63VW9GjG6",id:1173891},{generationHash:"ony3CgG7Uo6pKPmLp47oXoLq2UdF2V5AJUannfeZpxMx1tb156x",id:1173890},{generationHash:"onsvd42uGM1UhAUmLSwRrrLrEAwptq5jzmCfN2FvcmfitfaFQaS",id:1173889},{generationHash:"onfmqyhRohM8onJcRxmqqiPA8QDrUxDg9TnjzEjoFCbksp3aa2V",id:1173888},{generationHash:"oofhXZzKNUnmfm3k8ayZeDe6sua2LeZC1Bu2Pmgv6hzZgPZj5dJ",id:1173887},{generationHash:"op6Wtp1iN8TDKciFVLbLNouUGirAUYuBCKPwHkxzNHMmgwkSMUe",id:1173886},{generationHash:"ooqzvJU4Aj8iaDr3hLYY1jNvDawogziTsT3RWoum7uida3Gb6DV",id:1173885},{generationHash:"ooKCd1g3XNc8ogf8S6XTRJKQc7DsZC3LdoLH2cVtF86tBjKKAWe",id:1173884},{generationHash:"ooSMJmDMKxYG3s9bCUkMcfoY3dkbM38GphvkG1mc2zrkuTgGBhP",id:1173883},{generationHash:"oo4wKBFRbbJstWFdj1tojDt5us3gd9RVK7TWXZzYrcuqX5a75Y3",id:1173882},{generationHash:"onjmbXyL1UDswcFnS9w5v8yzQ85UwvTSWNxkHZ4uQAFUvb87h2Q",id:1173881},{generationHash:"opENE5GcLrvJzvk1gGhZH4cZydt4jqEj6G6QQiH3kevdkZYcSrW",id:1173880},{generationHash:"ooKbJndi7KufqUXggJbK3tvZiwZyW4j69BoDYJ13AZqVQ6T8UU9",id:1173879},{generationHash:"oo6vQgaaLHWvNb9J3PSAbR2okaykt66PFEpFQkPCMhd76J5RY4y",id:1173878},{generationHash:"ootfqvonfLFr2CsWshgJRLTXCzzWMN6p1bH7mLFFbdfg9iaQzSt",id:1173877},{generationHash:"ooXpgVUyLwEqsdqwH77Qvxf3tZJUBE8aECYUNSpYjEuWpdSgDSp",id:1173876},{generationHash:"ooXTnSK5XtmrUri7T1izFCMVHBxF9QrtHcy4E3mS4t7CAFpLSFT",id:1173875},{generationHash:"ooxESwxYMFAJT6JjLxmgsGddFRpQgmy7fqkrAUn2RhD27dgvQcp",id:1173874},{generationHash:"ongkp7gvEDjBFgeWHnahb9odeAXsFsC4T7gFbxKT3U7g2w1TGji",id:1173873},{generationHash:"ooXSwc3ePv3TPBoo3MGGcZxRbAv5znPxmHszrwbq1efRufTehJK",id:1173872},{generationHash:"onwmtobdAgiEha3Kys6wT5XxNkaa17nrqs2gwHVeymJxK2CPaNA",id:1173871},{generationHash:"ooVdjG5p5L9pE4hWL5kSpSPcqaAFPEihe6JpDztqXZZez3ms8sc",id:1173870},{generationHash:"ooJUow2NzA6t8EkQGpcgnaV9dfwFcfVGaQfSfCvPnxAWJPAcMcs",id:1173869},{generationHash:"ooC8nuFcVmm2SjzJ48BBL4YbseC8uRGbLXybAqu8dJAaoxTzzbu",id:1173868},{generationHash:"oo3a3kawaCcNBKugPQWN5aXL3322omS1QULqC9DF8Pd41YArkXc",id:1173867},{generationHash:"oojLbaMnTntrHinYRDG921ZUpMdzfYESsR9pYiNuUKo9D1JbAuc",id:1173866},{generationHash:"ooiYxAUQ31t8XuHkGYKvaHG4va8QS9GAnvEukhuVtEBb6C5XCWA",id:1173865},{generationHash:"ooBtEvn4Zt2zqeze1MgdWzYVRbEordiQvzsAZo3ngR9xi4fhWdK",id:1173864},{generationHash:"ooMW8WA2XTc152WAZcLGowPe8Kkgt8RmHqegueojPmHqMqDNDb6",id:1173863},{generationHash:"opUSAPyLkxMjcEK8hJn5tmoyaGuxQF71pBpwg5y1fNdLbNudqxq",id:1173862},{generationHash:"oni6GgcvuK89VLFJVLCGX5VruXmpTeXDrSozisCCoSoNYTExmzU",id:1173861},{generationHash:"oo9KLyZ6tyZb8WFUHtEQcsQwwxcesYjBeEvMLqJF3CcChW26i2b",id:1173860},{generationHash:"ooLKmQz3xKbpU1YJr2y61VQQ5oqEptn9Fa7eVKUP6HYwy4rkQse",id:1173859},{generationHash:"op9LB4AC7SqTmvCbQPb9RH17KsMRtpurVH8YX7AQ4tgFTgyw1Vq",id:1173858},{generationHash:"ootzLmxeQ9teBrEdwx8bJwn6fRXPCvg3UsH2uHhMmFwmxNPbKMZ",id:1173857},{generationHash:"ooX2zff2wiVX8yzm13TBoH7MGUKm8dW1YvvR152PtwUayW6LUBd",id:1173856},{generationHash:"onqazbLv8LZ4wj1dYb9ekfBVaJ4Fizu5MY7xu7t5E4diF8tqGAn",id:1173855},{generationHash:"ooVY9LHWg7onjZH1Vws6XUs67dzc9g4KqqFeSpteogC4So7Mu6v",id:1173854},{generationHash:"ooDQrQvGPrwERYYf3j8NCgfzYihyajYSNGusH4euWiknNM5ViYe",id:1173853},{generationHash:"op8Gw8pqcGPequTmAwvBdPL6xR1NFHe8NokFFp3si9keAztBZRK",id:1173852},{generationHash:"oouaB1aKFQfwnkeog1zeSEXFMKwmTxf7LGasZV9cUwKcChJiLcX",id:1173851},{generationHash:"opRQcp2eSDRkSobjVoS2kk4KfqdzCiVaHRMYAS61VTya9rmEYoA",id:1173850},{generationHash:"oonBWySs17uJEfuuzVbyGPAnibDTsCRwYxb8mUYnoafpxvUafJ6",id:1173849},{generationHash:"oopEi6JKAGRv24XvqNsT2YCjRBxXJVz7Lm4BrmaD6ghqd78Rr8H",id:1173848},{generationHash:"oo5KqM78DYAcw1TiGhBiZjYDFprWbFejQ3TbXoqkdk3hNzh3xYt",id:1173847},{generationHash:"oob82M7u1YamcJEFxWkVaKNE3QR8wVYvuNmo1E5hq5xEUftf7Hm",id:1173846},{generationHash:"onsH3KBHBwe6WttSbyhXPiDmPEDYjVYpjbxkKoVYCstvHv327zH",id:1173845},{generationHash:"oo3ynRTMQtTwxL7vXLk2EW542oW6mY3kdesPRBgmHMhsnxwXdrC",id:1173844},{generationHash:"ooUtJyUNfkzzcDY2kZ8cKfEuDm965JQDoqnRpS77yRdGJave59o",id:1173843},{generationHash:"ooiLXqvow65MwpBCg8xzuE5gpQ5kZGwPpaUEsJZSWsSiUnucGxz",id:1173842},{generationHash:"onf7huv8V9F57sJ9XH19CAKDzpKMtq91az9TfBiwKG4RYbtXKdY",id:1173841},{generationHash:"opWZpoSEfxKK8rYKs8yjyGsjnjuMqNXP3j83ZMkhvdVhaSxLntN",id:1173840},{generationHash:"onfKqJyQmw8eV9eUJf7vPUFujWs3rvs6dE4VUnv5fhXKyibAXhS",id:1173839},{generationHash:"onenNhjkw8k3u53QLuktZainTGzpkx2XHmXzgyJt9WjUananXxk",id:1173838},{generationHash:"opWuoWwMv3P2iuP2vxhsQHBN88HiPr79MnQgYTuSxgHygh8He4j",id:1173837},{generationHash:"oo9YdAF8h2oKSAK6vGusQBQp1ak6mjGFXDZy2nNuq948Mueaa3s",id:1173836},{generationHash:"ooihZCJYXoN5wgjgGSh8v8o6VPcri9wctnxKYqy5TMkfs2b4LHG",id:1173835},{generationHash:"ooGNuc5HicWV348S7Qh3T7HJmLZ6wpGzdnFPUC9QRTzngpxVCZB",id:1173834},{generationHash:"onvpjwcc4JC5yhTX5si4PvWudB5UFFiiU1rZXtCfxeFzvy3rwsZ",id:1173833},{generationHash:"onyGqWEGegpEX3ebLTLLfkdxjCv69FF2VqwdoUTb9raHco4uvCi",id:1173831},{generationHash:"oo22cDM1BhKMYsR2hkF8VgEJDC8UyAEMkhLonfWDJTe8stt2vQH",id:1173830},{generationHash:"oogDED5GvVU4zv7jLJ4cmN6dVsCENnJZiu2XPgFeuaXUr6NMQ3u",id:1173829},{generationHash:"oocxwJoM45px5JQ89cZeQmibban5fnUf6MMe8PVHEZmH6NDhowJ",id:1173828},{generationHash:"ooxXWiAtTKd5mPAJJYHbQSULRdjX4U5htmuqFnwCsiDB4ct62Wg",id:1173827},{generationHash:"oohxgxqQBDMAfyMMasdCAT6HG7bNpWai3d5dQbvcnukbyv7bTsf",id:1173826},{generationHash:"oneohcfy3975iZvBjUT1TXj1ssSGK6dsA8JbWKWHvEZrqNZvpYb",id:1173825},{generationHash:"oobJdtX79RWRiauvHyWjsDqCQDQgsRtxYCX7Q3ftYmqLuqGqCcK",id:1173824},{generationHash:"opNFEH2iR4pSTQ2nBBEDbh9BTq3FcjuFMSgR7wh3BFQkoPqwFzf",id:1173823},{generationHash:"onjtkgYJR4Msh7EvHfrVWHipDk1PEtLmhFK2sYNkuMP3ZxpPevU",id:1173822},{generationHash:"opQ4Mfjv2Sn5pjs47c1a181kuERHpvNDanw1wM31x7xbsnuf5DT",id:1173821},{generationHash:"oosgPtXSRapvcBHETfr7Rym28sF8jGrwxB6GyJQtvYi3SjLLQJF",id:1173820},{generationHash:"onrohDS46KeAVzkrscHqBsGZ38YQqqcz6MGZ18kyMQ4RApZ7R9n",id:1173819},{generationHash:"opEbYQ3H6ssuwtu84UebLJd9rkJmFTCUYLPrP7h87CSfwvxqyTM",id:1173818},{generationHash:"onkNENfU3BVafUSQpGGL88uyAnH8MyKbxoAKQPw2h4MaTQ5YoNJ",id:1173817},{generationHash:"oobewNziqL5EmvgYGZrPqcR9ZDw5Te2RCtp3DUkBE1WG1gbjLCv",id:1173816},{generationHash:"oowTEEi766f4BseDoW1d75v9wNP58EHPCnotXNpR7D49k5Cc4mX",id:1173815},{generationHash:"ooHrDwYQaWSL6AUdHvRv4uraekfYK6qVzzDTcumQCfcbCnUdr96",id:1173814},{generationHash:"ooMqPt37cHptT18A6hEwoEeTjF1dkxubmEK4yAMHnxpeK3EEAQP",id:1173813},{generationHash:"opWmTFTSmCpDLvhV96KEZtXf8L8XzqgrRpBhsFvhPSi98dLEGix",id:1173812},{generationHash:"ooB7HBhNJJgf6rJYKPp5oB3b2vFyhVw68QUvDbKhDP29wVsZm8A",id:1173811},{generationHash:"onezGpPq3hs5X9SoQerEny7owUCW4squCvJeU6TfotbNMwzY7M8",id:1173810},{generationHash:"onx8jFxZtSrRwBQB5rmxtMgwLZ6DH6yi2JfHSw6CFE9KsTjf7Ws",id:1173809},{generationHash:"ooJfwKMzrdRambynHkj8KLXy2LfRjD2r47h8uWG8ubK5QuCiRTV",id:1173808},{generationHash:"ooTLKTvtrdCeFAQ3StePGjkxg8xPyAqFZL8XBH9WcDDuP5ohiKh",id:1173807},{generationHash:"oo5gdzZ8t9hRbVZFgHVjNd41xe2Ak55mBn3UtRGo5Cb2dQQPqUk",id:1173806},{generationHash:"oojCsEKradxcoWP8cEGeji46dpZJKCCgLYJ5u6LcwqNwJnFRTLC",id:1173805},{generationHash:"onnkBfvZwttMkH7dmRwQiLQDpKnKaZTXzhkdHKBzFzttbmQ1n7X",id:1173804},{generationHash:"onmyPFVBdJLX4F5ezySQ3H2ha52oXUSTRJtWWULHJctrd9KJPpL",id:1173803},{generationHash:"oo1w5MpLgPUZYa5Z1MvYs6Y1EVFJizesoZ7DA14zPFw6tsNhGDn",id:1173802},{generationHash:"oopERqE1bRKXQEH313WRgTzXJYoZmGGoWwfCy4Nu14BMJ1QaSgv",id:1173801},{generationHash:"ooKwCbzXH75aQRqS1np7pyNCP3xZzvksLjUsZLhyG4WU9jRkcwA",id:1173800},{generationHash:"ooC666yLgwptajLf42oiFPTHRrXeKvz4vTsxAsDenp7M5NGxDTt",id:1173799},{generationHash:"op6EYSrvnyzF3dakNia9NbFHRtL14bhvw1Wm97ogfXeG32VtCid",id:1173798},{generationHash:"oo6xAYEA3UgtMUEMMKeYWVnEUtdtoJNRT3vu7AmbymdzVPwvo9V",id:1173797},{generationHash:"oonjjK6t6B8pJNFKhgHbRWafHzvSvAi2RcgfxL6cjozNfiY9M1F",id:1173796},{generationHash:"ooHggjqEMfNFFbWgrTCsy9UWcqakupWwCvb8HuVLyLy2Wkp32ZF",id:1173795},{generationHash:"opNDHkthfLLk9NHFtTtLYozUj1K1Fb3BMDbcCHwdHS8cmaiW7bT",id:1173794},{generationHash:"oopXDunuZ85pktZU741jC6C2BhSzC1JD6knxbUNA2hFdTrLSSBK",id:1173793},{generationHash:"opHRSA9pwy1uaPXHM9Q9WqzRfMphnkpRHFX2CDzQrk5Cu8JX9NQ",id:1173792},{generationHash:"oo6vLxxyyX9qhodNA3BRhN7BZsrCG8ogyDzbRqJTXqFB1GX9HbM",id:1173791},{generationHash:"ooVNDNf1HMSEFtCRf8ZpjAS5mcZ7AeiJLAdafTQ2eCQ1nQSVVBr",id:1173790},{generationHash:"oo5YeoA5cMoHYHVak6YbB68fKm2Ni2KsPnqjLsicTyYTEjidziF",id:1173789},{generationHash:"onmUxQr3ZLqjidEWw1Cwv7TCa45P33aF9xuVgcYQkx6q3YU4FHx",id:1173788},{generationHash:"onvMEgxi9gRj1noehoLjmCLiG9hxafcZkdNkVEZPv2oNLAYhBQq",id:1173787},{generationHash:"oo79G28QLd3F7guXg38GwdCh5UafP8ipZs3VRnWz1Z7UQU2y8cg",id:1173786},{generationHash:"ons7otC8x7JAZCVPgwjhn8ZByvrLw9dR1vteZcZ42wS2WczrsrQ",id:1173785},{generationHash:"ooMkagoA8P1oW5Q6TH2x9oWyQ8q8fMQ3Grt1UynUpMwL1BRX6o3",id:1173784},{generationHash:"op9wDHGwKa2TjupgQMT9m5eonA14c752KVFTGSxkNJfhttRSrNs",id:1173783},{generationHash:"oo2ekaxu73h4TnMQLSrTGek4iXGSiUxHVFdGn9wXinM46vK5Jia",id:1173782},{generationHash:"ooGsDNw5i5KzLKqc6aTCZCaBQkbiwof6EXkwk4x3gvKT9QmyA9r",id:1173781},{generationHash:"opPXkE2PJNhKW9a4QsL8g2cvYnu8MT2573RTi1qxPN1d1rMvLjW",id:1173780},{generationHash:"ooBZ7iqFiwLixae4PPuet9xgR18nL5FEKCLoNdQMATGyTcrTpki",id:1173779},{generationHash:"opSF1vyLn1rgFitapaHFrcBFiRrNpEajYPJjjViFxw8xY6h2zCe",id:1173778},{generationHash:"oomYVbLQjF1NznhdU4eKGgYub99UBtk9FGa5MEwhKwaUuMaut9N",id:1173777},{generationHash:"op2aR9LupqjPJptpLy367AMn7G8ZETA7tHq4p8WvTKximbjxc3d",id:1173776},{generationHash:"opFdAKfzcxTonwjKp8CAJyXxfoijEGabFxTz2f4cCa2fD8t3vNq",id:1173775},{generationHash:"ongKUL92Pix6dnq4CHDDj4oaBNjuG8QDgdAU1A2ia5ZdZv6WwJZ",id:1173774},{generationHash:"onyqXSDGma7swSRUEW4biNjAsTfyuJU7iCTwMn4Gt82yvVEACpE",id:1173773},{generationHash:"ooyvC9DnTNhkDpM6oRmM1f7koTxWPTrRLtnruHfwMqKsq4Yy4dd",id:1173772},{generationHash:"ooFY6pxf8xN91C6PikAqyzNZai4ezcRUv9MYXVRwhK2FG2cLWfW",id:1173771},{generationHash:"opWmApZX1QJEkT8TAmt1hQ83Pmo1NaJ29o4MwGjaqzraMnmY688",id:1173770},{generationHash:"oox6zV3BdPPzcdUSaoLSZH4QNg84hqkmFg3vvdbayL5PXJuUve1",id:1173769},{generationHash:"ooA5qmtWxyDBnW7jNE6Y8WuMSeK1CRfek184CbJ3KtSAJQ7fbVp",id:1173768},{generationHash:"opRRMwSuu7YJuvBPgzEsxm8zG2Rs1A3m3yznRmPGS8Apfckqcap",id:1173767},{generationHash:"opZNh88Urst9bzRNyTpJKo5NHCHMd1SVJtS64zaLygk7mi1KFyj",id:1173766},{generationHash:"ooHVeo47zRYjRmE8CYDL1TkTk92UCAQEjheZGu7VjhWQ3xEM2yk",id:1173765},{generationHash:"ooCN2RwcpzTJZyzZYoLhudRWmeYoszByauu15x3XbE68HLX5rSn",id:1173764},{generationHash:"ongk1vL6Lc3NM3QsLgBjvzQAM3tx685vm68FuNfqPPc78pUXh9D",id:1173763},{generationHash:"ooVx6StatxPmYL7YMnBfYNezKQeyw9fNr1gUZea12z63FiNkPmX",id:1173762},{generationHash:"oowmM9TFpKRtDX1Za4U7oKrNMFiQdoWi5Te3gEByjn9cMFMr8tk",id:1173761},{generationHash:"opKA1vziyLwgCucm2evcu1JEUEAYXva9prJoPDJGGRmVBWMsehT",id:1173760},{generationHash:"opSKaAUvYmydZznEQyyEMH8jgRK4g9gmebFahjnUPSGxAJctiEn",id:1173759},{generationHash:"ooaapZeZN21EUXMni6faqSqWnyZYSqGoz3toc7hDipfy78eEth2",id:1173758},{generationHash:"oofjLYbeSYDuG2mdf3TrmgTZdnsxGd8cD8THxGu4XzsZFJZCsKg",id:1173757},{generationHash:"oobWmLEtKHzS7ehGAXLF8nHoFpvk4uXs5xf45fULXsogV8xR4EL",id:1173756},{generationHash:"ooRa5rjJdk7Df5qPXJP12QwSBQqXfenghuep1uj1LueM8L8rMmH",id:1173755},{generationHash:"onqmLzEpGFoxYtFhgyZrGva8iU5SgX8RQpA2LdJx4yD22FoJo1P",id:1173754},{generationHash:"oow9tDXuRHXEiynnAskezojgxVMdrWn7HBVroXipVAcMikAkQwX",id:1173753},{generationHash:"onxdGPpKi2ML7qjnDjL2mzDjdWcsWzvcJ2yKXsy8buNoRfVEHrW",id:1173752},{generationHash:"oocGH4n7SMEcZV7ATSLfCjxU5NVjaV64U8wZuYbT1sc1o2FchjF",id:1173751},{generationHash:"onzodjvQWfQ2N6Prhz6tDMtx8vUzKVfE7NKZY6AXFEgXWyytyku",id:1173750},{generationHash:"ooWqqir8d3unVwLGES39MbbfSQ6xcdbZPAt2bWFGNnPN4cSiE9U",id:1173749},{generationHash:"op6gDbkwYQqnUC4d1iJCwknsgrYPKycRbFGjD9hcKQXxKPx8SWh",id:1173748}].reverse();fr(document.querySelector("#container"),function*(e,{width:t,height:n,resolution:r}){const f=Re(w.mapRange(e.value(),0,1,.15,.25)*Math.min(1920,1920),e.value()*Math.PI*2,G(960,960)),m=e.value()>.17,H=m&&e.value()>.992,A=!H&&e.value()>.88,L=e.value()>.92;let B=!L&&!A||e.value()>.2;const C=e.value()>.38;C&&(B=!1);const S=C&&e.value()>.74,b=L||S||e.value()>.7?0:C?e.gaussian(0,.05):e.gaussian(0,.1),q={darkBlue:K(b+214/360,.56*1.05,.5*.9),greyBlue:K(b+178/360,.15*1.05,.65*.9),red:K(b+5/360,.65,.72),yellow:K(b+41/360,.64*.95,1*.9),beige:K(b+37/360,.17*1.05,.99*.85)},M=C&&!S?1:.98,E=.9,_={purple:C?K(b+265/360,E*.48,.45*M):K(b+265/360,E*.53,.52*M),green:K(b+78/360,E*.73,.78*M),dark:K(b+180/360,E*(S?.14:.34),.25*(S?.8:C?1.8:1)*M),orange:K(b+18/360,E*.82,.95*M),white:K(b+40/360,E*.57,.99*M)},Y={pink:K(b+.96,E*.53,.78*M),cyan:K(b+.435,E*.4,.85*M),blue:K(b+.68,E*.25,.42*M),white:K(b+.24,E*.2,.97*M)},j=e.pick(new Array().concat([{name:"1",palette:q},{name:"2",palette:_},{name:"3",palette:Y}])),U=Object.values(j.palette);let D=e.pick(U),X=e.value();const oe=K(X,.08,.99),he=K(X,e.value()>.5?.4:.1,.18);let te=[oe,he];const ae=e.value()*Math.PI*2,$=L||e.value()>.05,ge=Math.pow(e.value(),.27),le=e.value()>.2,fe=B?.4:.2,ce=.01*(H?1.3:1),ne=e.value()>.95;K.mix.fxname="Counter Clockwise";function u(o,i,c){let l=o.h,g=i.h;return l-g>fe?g+=1:g-l>fe&&(l+=1),K((l*c+g*(1-c))%1,o.s*c+i.s*(1-c),o.v*c+i.v*(1-c))}u.fxname="Clockwise";function y(o,i,c){return e.pick([K.mix,u])(o,i,c)}y.fxname="Glitch";const k=(o,i,c)=>{const l=Dt(o.h,o.s,o.v),g=Dt(i.h,i.s,i.v),v=K.mix(o,i,c),p=K(...rr(l[0]*c+g[0]*(1-c),l[1]*c+g[1]*(1-c),l[2]*c+g[2]*(1-c)));return K(p.h,p.s*.4+v.s*.6,p.v)},P=e.pick(new Array().concat(new Array(10).fill(u)).concat(new Array(10).fill(K.mix)).concat(new Array(C?1:10).fill(y)));function N(){const o=B||!C?he:oe,i=e.pick(te.filter(c=>c!==o));return{name:"Black & White",getBackgroundColor:()=>o,getMainColor:()=>o,getSecondColor:c=>i}}function V(){const o=L?q.beige:e.pick(U);return{name:"Multicolor",getBackgroundColor:()=>o,getMainColor:()=>o,getSecondColor:i=>e.pick(U.filter(c=>c!==i))}}const O=K(270/360,.53,.1);function de(){const o=O;return{name:"Multicolor",getBackgroundColor:()=>o,getMainColor:()=>o,getSecondColor:i=>e.pick(U.filter(c=>c!==i))}}function xe(){return{name:"Multicolor",getBackgroundColor:()=>U[U.length-1],getMainColor:()=>e.pick(U),getSecondColor:o=>e.pick(U.filter(i=>i!==o))}}function s(){return{name:"Multicolor",getBackgroundColor:()=>O,getMainColor:()=>e.pick(U),getSecondColor:o=>e.pick(U.filter(i=>i!==o))}}const d=C?S?D:e.pick(U):O,Q=U.filter(o=>Math.abs(o.v-d.v)>.4&&Math.abs(o.s-d.s)>.2);function W(){const o=e.pick(Q),i=e.pick(Q.filter(l=>l!==o).concat($&&(!le||ge>.2)?[]:[te[0]])),c=[o,o,o,i];return{name:"Duochrome",getBackgroundColor:()=>d,getMainColor:()=>e.pick(c),getSecondColor:l=>e.pick(c)}}const I=(()=>P===y?xe:e.pick(new Array().concat(new Array(S||L||C?0:6).fill(N)).concat(new Array(L?0:16).fill(V)).concat(new Array(4).fill(de)).concat(new Array(L?0:16).fill(xe)).concat(new Array(4).fill(s))))(),J=I();function me(){const o=!L&&B?w.mapRange(Math.pow(e.value(),3),0,1,.1,P===k?.3:.5):.5,i=w.mapRange(o,.1,.5,.1,.06),c=J.getMainColor(),l=I===N||L?J.getBackgroundColor():B?K(X,o,i):K(X,.1,.98);let g=L?c:B?K(X,I===N?l.s:A?Math.max(0,J.getBackgroundColor().s*.2):.13,A?Math.max(.08,J.getBackgroundColor().v*.2):Math.max(l.v+e.gaussian(.05,.02),l.v)):K(X,.05,.96);return{name:"test",getBackgroundColor:()=>l,getMainColor:()=>g,getSecondColor(v,p){const R=w.clamp(e.gaussian(p,.01),0,1);if(L&&A){const ot=J.getSecondColor(v,R);return P(l,ot,Math.pow(p,1))}let z=K(B?(e.gaussian(J.getMainColor().h,.1)+1)%1:e.gaussian(J.getMainColor().h*.5+X*.5,.1),g.s,g.v),F=Math.pow(R,.9),x=.6,T=.8,re=0;isNaN(F)&&console.log("here?"),A||R<e.gaussian(.2,.05)&&e.value()>.15||e.value()>.99?(z=J.getSecondColor(J.getMainColor(),p),F=w.clamp(2*F,0,1),x=A?w.mapRange(R,0,1,.2,.6):.8,re=.2):(R<e.gaussian(.4,.05)&&e.value()>.3||e.value()>.95)&&(z=J.getSecondColor(J.getMainColor(),w.clamp(w.mapRange(R,.2,.4,0,1),0,1)),F=w.mapRange(w.clamp(Math.pow(w.clamp(w.mapRange(R,.2,.4,0,1),0,1),.1),0,1),0,1,.4,1),x=w.mapRange(F,.4,1,.5,0),T=w.mapRange(F,.4,1,.6,.8));const Z=P(v,K(z.h+e.gaussian(0,.05),z.s,z.v),F),Me=I===N?.05:w.clamp((Z.s*(1-x)+z.s*x)*(1-re),0,1),Ce=w.clamp((z.v*(1-T)+Z.v*T)*1.05,0,1);return K(w.clamp(Z.h,0,1),Me,Ce)}}}const se=C?(()=>{const o=S?D:I===N||I===de||I===s?J.getBackgroundColor():K(.09166666666666666,.21,.99);return{getBackgroundColor:()=>o,getMainColor:()=>J.getMainColor(),getSecondColor:(i,c)=>{const l=w.clamp(e.gaussian(c,.01),0,1),g=J.getSecondColor(i,c),v=P(o,J.getMainColor(),.9);return l<e.gaussian(.2,.05)&&e.value()>.2?P(g,o,1-c):k(v,P(v,g,w.clamp(e.gaussian(Math.pow(1-c,.3),.1),0,1)),c)},name:"lightPicker"}})():me(),be=!m||H?2:w.mapRange(Math.pow(e.value(),10),0,1,1.2,4),ue=Math.round(Math.max(4,Math.ceil(w.mapRange(e.value(),0,1,1920/500,1920/200)))*(2*be)),ie=Math.round(Math.max(4,Math.ceil(w.mapRange(e.value(),0,1,1920/500,1920/200)))*(2*be)),Ae=0,Se=Math.min(1920/ie,1920/ue)*.1;let ve=w.mapRange(Math.pow(e.value(),5),0,1,Ae,Se);const ke=(1920-(ue-1)*ve)/ue,Le=(1920-(ie-1)*ve)/ie,Ie=!m||H?6:6*be,De=m?H?Math.floor(Math.min(ie,ue)*.65):Math.max(2,Math.floor(Math.max(ie,ue*.7)/Ie)):1,qe=m?H?Math.floor(Math.min(ie,ue)*.65):Math.max(2,Math.floor(Math.max(ie*.7,ue)/Ie)):1,Qe=e.value()>.02?Math.min(ke,Le)/w.mapRange(Math.pow(e.value(),.3),0,1,160,200)*(A?.7:1):0,it=w.mapRange(e.value(),0,1,10,20),Oe=w.mapRange(e.value(),0,1,3e-4,.001);let We=1,Ye=0;for(let o=.2;o<.8;o+=.05)for(let i=.3;i<.7;i+=.05){let c=e.noise2D(o,i,Oe*Math.min(1920,1920));We=Math.min(We,c),Ye=Math.max(Ye,c)}const Fe=(o,i)=>Math.pow(w.clamp(w.mapRange(e.noise2D(o/Math.min(1920,1920),i/Math.min(1920,1920),Oe*Math.min(1920,1920)),We*w.mapRange(e.value(),0,1,.8,1),Ye*w.mapRange(e.value(),0,1,1,1.2),0,1),0,1),.5);Fe.fxname="Flow";const Ue=(o,i)=>w.mapRange(e.value(),0,1,0,.1);Ue.fxname="Random";const Ze=Math.min(1920,1920)*w.mapRange(e.value(),0,1,.12,.3),Xe=(o,i)=>{try{const c=Ze*w.mapRange(Math.abs(e.noise1D(Ve(f,G(o,i))/(Math.PI*2)*2)),0,1,1,1.1),l=c*2.3,g=ye(f,G(o,i)),v=w.clamp(g<e.gaussian(c,.05)?Math.pow(w.clamp(w.mapRange(g,0,c,1,0),0,1),.3):g<e.gaussian(l,.05)?Math.pow(w.clamp(w.mapRange(g,c,l,0,.8),0,1),.4):w.mapRange(g,l,c*4,.5,1),0,1),p=Math.pow(w.clamp(v,0,1),1.1);return isNaN(v)&&console.log("circle",g,c,l),w.clamp(p,0,1)}catch(c){throw console.log(o,i),c}};Xe.fxname="Resonance";const Je=()=>{const o=350*e.gaussian(1,.1),i=Math.round(w.mapRange(e.value(),0,1,2,6)),c=e.value()*Math.PI*2,l=w.mapRange(e.value(),0,1,1,8),g=new Array(i).fill(null).map((p,R)=>{const F=R/i*Math.PI*2+c;return{radius:o*1.4,center:Re(o,F,f)}}),v=(p,R)=>{const z=Math.min(...g.map(({center:re,radius:Z})=>{Z=Z*1.1;const Me=ye(re,G(p,R));return Me<Z?Math.pow(1-Me/Z,.4):Math.pow((Me-Z)/Z,.4)})),F=Math.pow(1-z,2),x=Math.pow(z,1.5)*F+Math.pow(z,.6)*(1-F),T=ye(f,G(p,R))-o*l;if(T>0){const re=Math.pow(.5+w.clamp(T/(o*2),0,Number.MAX_SAFE_INTEGER)*.5,.1);return Math.pow(x*(1-F)+re*F,.6)}else return Math.pow(x,.7)};return v.fxname="Rosace",v},$e=()=>{const o=w.mapRange(e.value(),0,1,2.5,4.5),i=[f];e.value()>.2&&ye(f,G(1920/2,1920/2))>Math.min(1920,1920)/7&&i.push(Re(ye(f,G(1920/2,1920/2))*2,Ve(f,G(1920/2,1920/2)),f));const c=(l,g)=>Math.min(...i.map((v,p)=>{const R=Ve(G(l,g),v),z=ye(G(l,g),v)/1080;(isNaN(R)||isNaN(z))&&console.log("HERE",l,g);const F=w.clamp(ye(G(l,g),v)*w.mapRange(e.noise1D(R+z),-1,1,.93,1.07)/(1080*.7),0,1),x=Math.abs(Math.cos(Math.pow(F,1)*Math.PI*o))*(i.length===1?1:w.mapRange(p/(i.length-1),0,1,.9,1)),T=w.mapRange(Math.pow(F,2),0,1,0,1);return w.clamp(x*(1-T)+1*T,0,1)}));return c.fxname="Wave",c},Be=()=>{const o=w.clamp(Math.round(e.gaussian(6,.5)/2)*2+1,3,Number.MAX_SAFE_INTEGER);let i=(Le+ve)*2,c=(ke+ve)*2;const l=w.mapRange(e.value(),0,1,.4,.8),g=w.mapRange(e.value(),0,1,.6,.8),v=((1920-2*i)/o-i)*l,p=780;i=(1920-v*o)/(o+1),c=(1080-p)/2+(1920-1080)/2;const R=new Array(o).fill(null).map((x,T)=>{const re=T/(o-1),Z=Math.pow(re>.5?w.mapRange(re,.5,1,1,0):w.mapRange(re,0,.5,0,1),2);return Ft(i+(v+i)*T,c+p*w.mapRange(Z,0,1,.2,0),v,p*w.mapRange(Z,0,1,.6,1))}),z=(x,T)=>Math.min(...R.map(re=>Math.min(...re.points.map(Z=>ye(Z,G(x,T))))),...R.map(re=>{const Z=re.points[0],Me=re.points[2];return Math.min(x<Z.x&&T>Z.y&&T<Me.y?Math.abs(x-Z.x):Number.MAX_SAFE_INTEGER,x>Me.x&&T>Z.y&&T<Me.y?Math.abs(x-Me.x):Number.MAX_SAFE_INTEGER,T<Z.y&&x>Z.x&&x<Me.x?Math.abs(T-Z.y):Number.MAX_SAFE_INTEGER,T>Me.y&&x>Z.x&&x<Me.x?Math.abs(T-Me.y):Number.MAX_SAFE_INTEGER)})),F=(x,T)=>R.some(re=>wt(re,G(x,T)))?0:Math.pow(z(x,T)/Math.min((v/l-v)/2+i/2,(p/g-p)/2+c/2),.3);return F.fxname="Stained",F},et=()=>{const o=Math.round(w.mapRange(e.value(),0,1,2,5)),i=new Array(o).fill(null).flatMap((l,g)=>{const v=g/o,p=w.clamp(Math.round(e.gaussian(g*5+3,2)),2,Number.MAX_SAFE_INTEGER);return new Array(p).fill(null).map((R,z)=>{const F=e.gaussian(z/(p-1),.05),x=w.mapRange(e.value(),0,1,.4,1.5)*1920/p,T=w.mapRange(e.value(),0,1,.3,.5)*1920+v*1920*.7;return{shape:Te([G(1920*F-x,0),G(1920*F+x*w.mapRange(e.value(),0,1,-.5,.5),T),G(1920*F+x,0)]),value:Math.pow(v,.7)}})}),c=(l,g)=>{const v=G(l,g),p=i.find(R=>wt(R.shape,v));return p?p.value:1};return c.fxname="Forest",c},_e=()=>{const o=yt(G(960,960),Math.PI/2*Math.floor(e.value()*4),G(960,640)),i=(c,l)=>vr(w.clamp(ye(G(c,l),o)/ye(o,G(0,1920/2)),0,1));return i.fxname="Pearl",i},tt=()=>{const o=Math.ceil(w.mapRange(e.value(),0,1,2,4)),i=w.mapRange(e.value(),0,1,1080/3,1080/1.5),c=e.value()*Math.PI*2,l=Te(new Array(o).fill(null).map((v,p)=>{const z=p/o*Math.PI*2+c;return G(f.x+i*Math.cos(z),f.y+i*Math.sin(z))})),g=(v,p)=>wt(l,G(v,p))?0:Math.pow(w.clamp(ye(f,G(v,p))/1e3,0,1),.3);return g.fxname="Gem",g},Ke=H?[Fe]:new Array().concat(new Array(be>1.5?0:m?60:15).fill(Fe)).concat(new Array(m?14:7).fill(Xe)).concat(new Array(A?0:7).fill(Je())).concat(new Array(m?10:2).fill($e())).concat(new Array(ne?0:3).fill(_e())).concat(new Array(!m||ne?0:3).fill(tt())).concat(new Array(A?0:m?6:3).fill(Be())).concat(new Array(m&&$?6:0).fill(et())),Ne=e.pick(Ke),Ee=(o,i)=>{const c=Math.pow(w.clamp(e.gaussian(Ne(o,i)*.8+Fe(o,i)*.1+Ue(o,i)*.1,.02),0,1),ne?.8:2);return ne?1-c:c},nt=e.value(),Kt=H||Ne.fxname==="Rosace"||Ne.fxname==="Wave",Hn=Math.max(2,Math.round(w.mapRange(Math.pow(nt,1.2),0,1,Kt?3:1,Kt?6:4)*w.mapRange(e.value(),0,1,1,be))*(H?5:Math.pow(w.clamp(Math.min(De,qe)/4,0,1),.5))),jt=Ft(0,0,1920,1920).toShape(void 0,{color:he,opacity:.4,width:1,style:Ut.round}),je=(o,i)=>o.__type==="SmoothShape"?Vt(i,o.smoothness,o.fill,o.stroke):dn(i,o.fill,o.stroke),dt=(o,i)=>{const c=Pe(Te(i.points)),l=Math.max(...i.points.map(v=>ye(v,c))),g=i.points.map(v=>{const p=ye(v,c)/l;return Re(Math.min(o*p),Ve(v,c),v)});return je(i,g)},xn=(o,i,c)=>{const l=c.points.map(g=>Re(o,i,g));return je(c,l)},Qt=o=>{const i=new Array(o.points.length).fill(null).map((z,F)=>F);let c=e.pick(i),l=e.pick(i.filter(z=>z!==c));const g=Math.min(c,l),v=Math.max(c,l),p=$t(o.points[g],o.points[(g+1)%o.points.length],w.mapRange(e.value(),0,1,.25,.75)),R=$t(o.points[v],o.points[(v+1)%o.points.length],w.mapRange(e.value(),0,1,.25,.75));return[je(o,[...o.points.slice(0,g+1),p,R,...o.points.slice(v+1)]),je(o,[p,...o.points.slice(g+1,v+1),R])]},rt=e.value()>.95&&!H?w.mapRange(e.value(),0,1,1920/8,1920/5):0,bn=e.value()>.5?-1:1,En=!H&&rt===0,Cn=Math.round(w.mapRange(e.value(),0,1,3,5)),gt=new Array(Cn).fill(null).map(()=>{const o=G(w.mapRange(e.value(),0,1,.16666666666666666,.8333333333333334)*1920,w.mapRange(e.value(),0,1,.16666666666666666,.8333333333333334)*1920),i=w.mapRange(Math.pow(e.value(),.5),0,1,.15,.35)*Math.max(1920,1920),c=Math.ceil(w.mapRange(e.value(),0,1,2,4));let l=e.value()*Math.PI*2/c;return l<.1&&(l=.1),Te(new Array(c).fill(null).map((g,v)=>{const R=v/c*Math.PI*2+l;return G(o.x+i*Math.cos(R),o.y+i*Math.sin(R))}))}),Rn=Qe*(5-ce*50);window.$fxhashFeatures={"Color Style":S?"Colored":C?"Light":"Dark","Color Palette":J.name==="Black & White"?"4":j.name,"Color Gradients":$&&ge>.05?ge>.3?"Strong":"Light":"None","Color Cells":le?"Close":"Random","Color Mixer":P.fxname,"Color Picker":J.name,Grid:m?"Irregular":"Strict",Gap:Qe===0?"None":"Default",Tilt:rt?"Tilted":"None",Form:Ne.fxname+(ne?" Inverted":""),Size:H?"Huge":Math.min(ue,ie)>16?"Small":"Normal",F\u00EAlures:gt.reduce((o,i)=>i.points.length+o,0)},console.log(window.$fxhashFeatures);const Wt=o=>{const i=tn(o.points,[]);return c=>{const l=tn(c.points,[]);let g=null;const v=l.map(x=>i.map((T,re)=>{if(g!==null&&re!==g)return null;const Z=ln(x,T);return Z&&(g=re),Z}).find(T=>T!==null));if(v.filter(Boolean).length<2)return[c];const p=v.findIndex(Boolean),R=v.findIndex((x,T)=>T!==p&&x),z=[...c.points.slice(0,p+1),v[p],v[R],...c.points.slice(R+1)],F=[v[p],...c.points.slice(p+1,R+1),v[R]];return(z.some(x=>isNaN(x.x))||F.some(x=>isNaN(x.x)))&&(console.log("split",c),console.log("intersections",v),console.log({first:z,center:Pe({points:z})}),console.log({first:F,center:Pe({points:F})})),[je(c,z),je(c,F)].filter(x=>!x.points.every(T=>T.x===x.points[0].x&&T.y===x.points[0].y)).map((x,T)=>{const re=Pe(x);isNaN(re.x)&&console.log("center",c,x,T);const Z=Ee(re.x,re.y);return isNaN(Z)&&console.log("> progress",Z),isNaN(dt(0,x).points[0].x)&&console.log("shrink",dt(0,x),x),dt(0,x)})}},Sn=o=>({shape:i,progress:c,shapeWidth:l,shapeHeight:g})=>Wt(o)(i).map(v=>({shape:v,progress:c,shapeWidth:l,shapeHeight:g}));let Et=[];if(m){let o=function(R,z,F){if(e.value()>.5){let x=0;for(x=0;x<qe&&F+x<ue&&!R[z][F+x];x++);if(x===0)return{columns:0,rows:0};x=Math.ceil(Math.pow(e.value(),v)*x);let T=0;for(T=0;T<De&&z+T<ie&&!new Array(x).fill(null).some((re,Z)=>R[z+T][F+Z]);T++);return T===0?{rows:0,columns:0}:(T=Math.ceil(Math.pow(e.value(),v)*T),{rows:x,columns:T})}else{let x=0;for(x=0;x<De&&z+x<ie&&!R[z+x][F];x++);if(x===0)return{columns:0,rows:0};x=Math.ceil(Math.pow(e.value(),v)*x);let T=0;for(T=0;T<qe&&F+T<ue&&!new Array(x).fill(null).some((re,Z)=>R[z+Z][F+T]);T++);return T===0?{rows:0,columns:0}:(T=Math.ceil(Math.pow(e.value(),v)*T),{rows:T,columns:x})}},i=function(R){for(let z=0;z<ie;z++)for(let F=0;F<ue;F++)if(!R[z][F])return{x:z,y:F};return null},c=new Array(ie).fill(null).map(()=>new Array(ue).fill(!1)),l=Math.floor(e.value()*ie),g=Math.floor(e.value()*ue);const v=.1;let p=!0;for(;p;){if(l>=ie&&g>=ue){let F=i(c);if(F){l=F.x,g=F.y;continue}else{p=!1;continue}}if(l>=ie){l=0,g++;continue}if(c[l][g]){l++;continue}let{columns:R,rows:z}=o(c,l,g);if(z===0){l++;continue}for(let F=0;F<R;F++)for(let x=0;x<z;x++)c[l+F][g+x]=!0;Et.push({x:l,y:g,rows:z,columns:R}),l=Math.floor(e.value()*ie),g=Math.floor(e.value()*ue)}}else Et=new Array(ue*ie).fill(null).map((o,i)=>{const c=i%ie,l=Math.floor(i/ie);return{x:c,y:l,columns:1,rows:1}});let st=Et.map(({x:o,y:i,columns:c,rows:l},g)=>{const v=(Le+ve)*o,p=(ke+ve)*i,R=(Le+ve)*c-ve,z=(ke+ve)*l-ve,F=Ee(v+R/2,p+z/2);return{shape:Ft(v,p,R,z).toShape(jt.fill||void 0,jt.stroke||void 0),progress:F,shapeWidth:R,shapeHeight:z}}).map(({shape:o,progress:i,shapeWidth:c,shapeHeight:l})=>({shape:je(o,o.points.map(v=>{const p=v.y/1920,R=v.x+rt*p,z=(1920+2*rt)/(1920-rt),F=R*z-2*rt;return G(bn===-1?(1-F/1920)*1920:F,v.y)})),shapeWidth:c,shapeHeight:l,progress:1})).flatMap(({shape:o,progress:i,shapeWidth:c,shapeHeight:l})=>{if(!En)return[{shape:o,progress:i,shapeWidth:c,shapeHeight:l}];let g=[{shape:o,progress:i,shapeWidth:c,shapeHeight:l}];for(let v of gt)g=g.flatMap(Sn(v));return g}).filter(({progress:o})=>o!==-1).map(({shape:o,shapeWidth:i,shapeHeight:c})=>{const l=Pe(o);return{shape:o,progress:Ee(l.x,l.y),shapeWidth:i,shapeHeight:c}}).map(({shape:o,progress:i,shapeWidth:c,shapeHeight:l},g)=>{const v=Pe(o),p=Ee(v.x,v.y),R=gt.reduce((T,re)=>wt(re,v)?1:0+T,0),z=Math.pow(1-R/gt.length,3);i=p*z;const F=se.getMainColor(),x=se.getSecondColor(F,Math.pow(i,1));return{progress:i,shape:o,shapeWidth:c,shapeHeight:l,color:F,firstColor:x}});for(let o=0;o<Hn;o++)st=st.flatMap(({shape:i,shapeWidth:c,shapeHeight:l,color:g,firstColor:v})=>{try{isNaN(i.points[0].x)&&console.log(i);const p=Pe(Te(i.points)),R=Ee(p.x,p.y);return isNaN(R)&&console.log("newProgress",p.x,p.y),(e.value()>e.gaussian(R,.1)&&Tt(i)>Math.max(ke*qe*Le*De*.2,30*30)?Qt(i):[i]).map(F=>({shape:F,progress:Math.pow(R,2),shapeWidth:c,shapeHeight:l,color:g,firstColor:v}))}catch(p){throw console.log(Pe(Te(i.points)),i),p}}).map(({shape:i,progress:c,shapeWidth:l,shapeHeight:g,color:v,firstColor:p})=>({progress:c,shape:dt(Rn,i),shapeWidth:l,shapeHeight:g,color:v,firstColor:p})).map(({shape:i,progress:c,shapeWidth:l,shapeHeight:g,color:v,firstColor:p})=>{const R=Qe*it*w.mapRange(Math.pow(c,.4),0,1,.2,.1);return i=xn(w.mapRange(e.value(),0,1,0,R),w.mapRange(e.value(),0,1,0,Math.PI*2),i),{progress:c,shape:i,shapeWidth:l,shapeHeight:g,color:v,firstColor:p}});st=st.flatMap(({shape:o,progress:i,shapeWidth:c,shapeHeight:l,color:g,firstColor:v})=>(e.value()>.8&&i<.01&&Tt(o)<c*l/8?Qt(o):[o]).map(R=>({progress:i,shape:R,shapeWidth:c,shapeHeight:l,color:g,firstColor:v})));const kn=(o,i,c)=>{let l,g;if(le)l=P(i,se.getSecondColor(o,c),1-ge),g=P(se.getSecondColor(o,c),i,w.clamp(e.gaussian(ge,.1),0,1));else{const p=se.getMainColor();l=se.getSecondColor(p,c),g=P(se.getSecondColor(o,c),i,w.clamp(e.value()*(1-c),0,1))}const v=2;return nr(new Array(v).fill(null).map((p,R)=>P(l,g,R/(v-1))),ae+e.value()*Math.PI/2)};let ct=st.map(({shape:o,shapeWidth:i,shapeHeight:c,color:l,firstColor:g})=>{const v=Math.pow(1-Tt(o)/(i*c),1),p=Pe(o),R=Math.pow(Ee(p.x,p.y),1.5);return Vt(o.points,ce*v,{color:$?kn(l,g,R):se.getSecondColor(l,R),opacity:L?w.clamp(w.mapRange(Math.pow(R,.2),0,1,2,-.3),0,1):1-R*.5})}).filter(Boolean);const Ct=t/n,Pn=Math.max(t,n),pt=(t-n)/2,Yt=pt-Math.floor(pt/ke)*ke;let mt;Ct>1?mt=G(0,pt):mt=G(-pt,0);const we=Math.min(t,n)/30;ct.sort((o,i)=>{var g,v;const c=(((g=o.fill)==null?void 0:g.opacity)||0)-(((v=i.fill)==null?void 0:v.opacity)||0);let l;return Math.abs(c)>.001?l=c:l=ye(Pe(Te(o.points)),f)-ye(Pe(Te(i.points)),f),-l});const Fn=se.getMainColor(),Tn=e.gaussian(0,.4);let Rt=0;const An=Math.round(700*(H?.2:1)),St=new Array;new Array(An).fill(null).flatMap(()=>{const o=Math.pow(e.value(),1.5),i=w.mapRange(o,0,1,1920/80,1920/10),c=G(e.value()*1920,e.value()*1920),l=Ee(c.x,c.y);if(l>.2)return[];let g=se.getSecondColor(Fn,l);g=K(I===N?X:(g.h+Tn+1)%1,I===N?.2:g.s,g.v);let v=new Array(4).fill(null).map(()=>g);const p=Math.abs(e.gaussian(0,.1)),R=C?1:1.1,z=C?1:1.1,F=I===W?e.gaussian(0,.15):0;v=v.map((Ce,ot)=>K(Ce.h+F,(Ce.s>.8?Ce.s*.9:Ce.s<.4?Ce.s*1.3:Ce.s)*z,w.clamp((Ce.v-p)*R,0,1),pr(w.mapRange(ot/(v.length-1),0,1,1,0))));const x=g.v,T=!(x>.8&&e.value()>.9);if(T?Rt+=Math.pow(x,2)*Math.sqrt(o):Rt+=.4*Math.sqrt(i),Rt>(S?100*se.getBackgroundColor().v:Ke.fxname==="Shape"?120:C?200:I===N?40:350)*(se.getBackgroundColor().v>.8?.3:1)*($?1:.4))return[];if(!(x>(S?.7:.45)))return;const Z=w.clamp(Math.pow(i/2,1.3),5,Number.MAX_SAFE_INTEGER),Me=Math.pow(w.mapRange(o,0,1,0,1),3);if(St.push(Nt(c,Z,{color:At(v,c,Z),opacity:(C?.35:.25)*(1-Math.pow(x,.5)*Me),compositionOperation:"overlay"})),T){const Ce=w.clamp(Math.pow(i/3,1.8),5,Number.MAX_SAFE_INTEGER),ot=er(e.value()*Ce*.1,e.value()*Math.PI*2,c);St.push(Nt(ot,Ce,{color:At(v,ot,Ce),opacity:(C?.01:.025)*(1-Math.pow(x,2)*Me),compositionOperation:"soft-light"}))}});let vt=ct.length;const Ge=Ct>1?Yt/2:0,ze=Ct>1?Yt/2:0,Zt=o=>{const c=p=>w.mapRange(p,0,1920,we,Pn-we),l=p=>{const R=G(c(p.x)+ze,c(p.y)+Ge);return G(R.x-mt.x,R.y-mt.y)},g=p=>p.color.__type==="RadialGradient"?{...p,color:At(p.color.colors,l(p.color.center),c(p.color.radius))}:p;return o.map(p=>{if(p.__type==="Arc")return new Array(Nt(l(p.center),c(p.radius),p.fill?g(p.fill):p.fill));{const R=je(p,p.points.map(l));return Wt({points:[G(we+ze,we+Ge),G(t-ze-we,Ge+we),G(t-ze-we,n-Ge-we),G(ze+we,n-Ge-we)]})(R)}}).flat().filter(p=>(p.__type==="Arc"?[p.center]:p.points).reduce((F,x)=>{const T=x.x<(ze+we)*.65||x.x>t-(ze+we)*.65||x.y<(Ge+we)*.65||x.y>n-(Ge+we)*.65,Z=x.x>(ze+we)*(1+.35)&&x.x<t-(ze+we)*(1+.35)&&x.y>(Ge+we)*(1+.35)&&x.y<n-(Ge+we)*(1+.35)?1e3:T?-1e3:1;return F+Z},0)>50)},Ln=Math.round(1e3/60);let ht=document.querySelector("meta[name=theme-color]");ht||(ht=document.createElement("meta"),ht.setAttribute("name","theme-color"),document.head.append(ht)),ht.setAttribute("content",se.getBackgroundColor().hex());const ut=se.getBackgroundColor();document.body.style.backgroundColor=se.getBackgroundColor().hex(),document.body.style.setProperty("--color",K(ut.h,ut.s,ut.v>.5?.2:.8).hex()),document.body.style.setProperty("--actions-color",K(ut.h,ut.s*.1,1).hex()),yield{background:se.getBackgroundColor(),elements:[]},ct=Zt(ct);const Jt=function*(o){const i=Math.ceil(vt/(Ln-1));let c=0;for(let l=0;l<vt;l+=i){const g=l;c=Math.min(l+i,vt),yield{elements:new Array().concat(o.slice(g,c))}}yield{elements:o.slice(c,vt)}};for(let o of Jt(ct))yield o;for(let o of Jt(Zt(St)))yield o;yield{elements:[Nr(o=>{for(let i=0;i<o.data.length;i+=4){const c=Math.pow((o.data[i]+o.data[i+1]+o.data[i+2])/256/3,.3),l=(i-i%4)/r%1920,g=Math.floor((i-i%4)/r/1920),v=.04*Math.pow(w.mapRange(e.noise2D(l,g,.1),-1,1,0,1),2),p=w.mapRange(Math.pow(w.mapRange(e.noise2D(l,g,.01),-1,1,0,1),.3),0,1,w.mapRange(Math.pow(c,.5),0,1,.8,1),1),R=e.gaussian(1,v*w.mapRange(Math.pow(c,3),0,1,2,.7));o.data[i]=w.clamp(Math.round(o.data[i]*p*R),0,255),o.data[i+1]=w.clamp(Math.round(o.data[i+1]*p*R),0,255),o.data[i+2]=w.clamp(Math.round(o.data[i+2]*p*R),0,255),o.data[i+3]=o.data[i+3]}return o})]}},()=>{const e=new URLSearchParams(window.location.search),t=window.innerWidth/window.innerHeight;let n=Number(e.get("width"))||window.innerWidth,r=n/t;var a=e.get("preview")==="1";a&&(n=Number(e.get("width"))||1920,r=n*21/29.7);const h=n/r,f=t>h?window.innerHeight/r:window.innerWidth/n;let m=e.get("width")||a?1:f;return Math.max(n,r)*m<1920&&window.devicePixelRatio<2&&(m*=2),{width:n,height:r,resolution:m,interactive:!1,plugins:[gr(zr),dr("Felure-JulienPradet")]}});function Pe({points:e}){let t=e.slice(1).reduce(({x:n,y:r},a)=>G(n+a.x,r+a.y),e[0]);return G(t.x/e.length,t.y/e.length)}
